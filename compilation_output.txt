==> sourceror
Compiling 12 files (.ex)
Generated sourceror app
==> file_system
Compiling 7 files (.ex)
Generated file_system app
==> stream_data
Compiling 3 files (.ex)
Generated stream_data app
==> decimal
Compiling 4 files (.ex)
Generated decimal app
==> nimble_totp
Compiling 1 file (.ex)
Generated nimble_totp app
==> mime
Compiling 1 file (.ex)
Generated mime app
==> nimble_options
Compiling 3 files (.ex)
Generated nimble_options app
==> libgraph
Compiling 15 files (.ex)
Generated libgraph app
==> bunt
Compiling 2 files (.ex)
Generated bunt app
===> Analyzing applications...
===> Compiling unicode_util_compat
===> Analyzing applications...
===> Compiling idna
==> typable
Compiling 1 file (.ex)
Generated typable app
===> Analyzing applications...
===> Compiling telemetry
==> telemetry_metrics
Compiling 7 files (.ex)
Generated telemetry_metrics app
===> Analyzing applications...
===> Compiling telemetry_poller
==> thousand_island
Compiling 16 files (.ex)
Generated thousand_island app
==> jason
Compiling 10 files (.ex)
Generated jason app
==> esbuild
Compiling 4 files (.ex)
Generated esbuild app
==> tails
Compiling 5 files (.ex)
Compiling lib/tails.ex (it's taking more than 10s)
Generated tails app
==> poison
Compiling 4 files (.ex)
    warning: Application.get_env/2 is discouraged in the module body, use Application.compile_env/3 instead
    │
 42 │   if Application.get_env(:poison, :native) do
    │                  ~
    │
    └─ lib/poison/parser.ex:42:18: Poison.Parser (module)

    warning: use Bitwise is deprecated. import Bitwise instead
    │
 46 │   use Bitwise
    │   ~~~~~~~~~~~
    │
    └─ lib/poison/parser.ex:46: Poison.Parser (module)

     warning: use Bitwise is deprecated. import Bitwise instead
     │
 117 │   use Bitwise
     │   ~~~~~~~~~~~
     │
     └─ lib/poison/encoder.ex:117: Poison.Encoder.BitString (module)

Generated poison app
==> comeonin
Compiling 3 files (.ex)
Generated comeonin app
==> comparable
Compiling 10 files (.ex)
    warning: atom ::: must be written between quotes, as in :"::", to avoid ambiguity
    │
 90 │              {:::, _, [left_expression, quoted_left_type]},
    │               ~
    │
    └─ lib/comp.ex:90:15

    warning: atom ::: must be written between quotes, as in :"::", to avoid ambiguity
    │
 91 │              {:::, _, [right_expression, quoted_right_type]},
    │               ~
    │
    └─ lib/comp.ex:91:15

     warning: <|> is deprecated. Use another pipe-like operator
     │
 149 │         assert x <|> y
     │                  ~
     │
     └─ lib/comp.ex:149:18

     warning: <|> is deprecated. Use another pipe-like operator
     │
 158 │         assert y <|> x
     │                  ~
     │
     └─ lib/comp.ex:158:18

     warning: <|> is deprecated. Use another pipe-like operator
     │
 176 │         refute x <|> y
     │                  ~
     │
     └─ lib/comp.ex:176:18

     warning: <|> is deprecated. Use another pipe-like operator
     │
 185 │         refute y <|> x
     │                  ~
     │
     └─ lib/comp.ex:185:18

     warning: <|> is deprecated. Use another pipe-like operator
     │
 231 │   defmacro left <|> right do
     │                 ~
     │
     └─ lib/comp.ex:231:17

Generated comparable app
==> phoenix_html
Compiling 6 files (.ex)
Generated phoenix_html app
==> phoenix_template
Compiling 4 files (.ex)
Generated phoenix_template app
==> db_connection
Compiling 17 files (.ex)
Generated db_connection app
==> expo
Compiling 2 files (.erl)
Compiling 22 files (.ex)
Generated expo app
==> phoenix_pubsub
Compiling 11 files (.ex)
Generated phoenix_pubsub app
==> plug_crypto
Compiling 5 files (.ex)
Generated plug_crypto app
==> hpax
Compiling 4 files (.ex)
Generated hpax app
==> spark
Compiling 26 files (.ex)
Generated spark app
==> reactor
Compiling 58 files (.ex)
Generated reactor app
===> Analyzing applications...
===> Compiling mimerl
==> dns_cluster
Compiling 1 file (.ex)
Generated dns_cluster app
==> gettext
Compiling 18 files (.ex)
Generated gettext app
==> jose
Compiling 112 files (.erl)
Compiling 8 files (.ex)
Generated jose app
==> phoenix_view
Compiling 1 file (.ex)
Generated phoenix_view app
==> ssl_verify_fun
Compiling 7 files (.erl)
Generated ssl_verify_fun app
===> Analyzing applications...
===> Compiling certifi
==> slugify
Compiling 1 file (.ex)
Generated slugify app
==> credo
Compiling 251 files (.ex)
Generated credo app
==> ecto
Compiling 56 files (.ex)
Generated ecto app
==> ets
Compiling 7 files (.ex)
Generated ets app
==> plug
Compiling 1 file (.erl)
Compiling 40 files (.ex)
Generated plug app
==> phoenix_html_helpers
Compiling 6 files (.ex)
Generated phoenix_html_helpers app
==> postgrex
Compiling 68 files (.ex)
Generated postgrex app
==> joken
Compiling 8 files (.ex)
Generated joken app
===> Analyzing applications...
===> Compiling parse_trans
==> ecto_sql
Compiling 25 files (.ex)
Generated ecto_sql app
==> nimble_pool
Compiling 2 files (.ex)
Generated nimble_pool app
===> Analyzing applications...
===> Compiling metrics
===> Analyzing applications...
===> Compiling hackney
==> elixir_make
Compiling 8 files (.ex)
Generated elixir_make app
==> argon2_elixir
mkdir -p /home/alex/Projects/Sandbox/Clones_new/clinicpro/_build/dev/lib/argon2_elixir/priv
cc -g -O3 -pthread -Wall -Wno-format-truncation -I"/home/alex/.asdf/installs/erlang/26.2/erts-14.2/include" -Iargon2/include -Iargon2/src -Ic_src -shared -fPIC -fvisibility=hidden -Wl,-soname,libargon2.so.0 argon2/src/argon2.c argon2/src/core.c argon2/src/blake2/blake2b.c argon2/src/thread.c argon2/src/encoding.c argon2/src/ref.c c_src/argon2_nif.c -o /home/alex/Projects/Sandbox/Clones_new/clinicpro/_build/dev/lib/argon2_elixir/priv/argon2_nif.so
Compiling 3 files (.ex)
Generated argon2_elixir app
==> bcrypt_elixir
mkdir -p "/home/alex/Projects/Sandbox/Clones_new/clinicpro/_build/dev/lib/bcrypt_elixir/priv"
cc -g -O3 -Wall -Wno-format-truncation -I"/home/alex/.asdf/installs/erlang/26.2/erts-14.2/include" -Ic_src -fPIC -shared  c_src/bcrypt_nif.c c_src/blowfish.c -o "/home/alex/Projects/Sandbox/Clones_new/clinicpro/_build/dev/lib/bcrypt_elixir/priv/bcrypt_nif.so"
Compiling 3 files (.ex)
Generated bcrypt_elixir app
==> picosat_elixir
cc -std=c99 -finline-functions -Wall -O3 -DNDEBUG -fPIC -I /home/alex/.asdf/installs/erlang/26.2/erts-14.2/include -o /home/alex/Projects/Sandbox/Clones_new/clinicpro/deps/picosat_elixir/priv/picosat.o -c /home/alex/Projects/Sandbox/Clones_new/clinicpro/deps/picosat_elixir/c_src/picosat.c
cc -std=c99 -finline-functions -Wall -O3 -DNDEBUG -fPIC -I /home/alex/.asdf/installs/erlang/26.2/erts-14.2/include -o /home/alex/Projects/Sandbox/Clones_new/clinicpro/deps/picosat_elixir/priv/picosat_nif.o -c /home/alex/Projects/Sandbox/Clones_new/clinicpro/deps/picosat_elixir/c_src/picosat_nif.c
cc -shared  /home/alex/Projects/Sandbox/Clones_new/clinicpro/deps/picosat_elixir/priv/picosat_nif.o /home/alex/Projects/Sandbox/Clones_new/clinicpro/deps/picosat_elixir/priv/picosat.o -o /home/alex/Projects/Sandbox/Clones_new/clinicpro/_build/dev/lib/picosat_elixir/priv/picosat_nif.so
Compiling 1 file (.erl)
Compiling 2 files (.ex)
Generated picosat_elixir app
==> castore
Compiling 1 file (.ex)
Generated castore app
==> tailwind
Compiling 3 files (.ex)
Generated tailwind app
==> mint
Compiling 1 file (.erl)
Compiling 20 files (.ex)
Generated mint app
==> finch
Compiling 14 files (.ex)
Generated finch app
==> goth
Compiling 7 files (.ex)
Generated goth app
==> req
Compiling 19 files (.ex)
Generated req app
==> ex_typesense
Compiling 13 files (.ex)
Generated ex_typesense app
==> assent
Compiling 38 files (.ex)
Generated assent app
==> tesla
Compiling 40 files (.ex)
warning: `use Tesla.Builder` and `use Tesla` are soft-deprecated. It will be removed in future major version in favor of
Runtime Configuration instead. Please share your feedback at https://github.com/elixir-tesla/tesla/discussions/732

If you can turn off this warning, add the following to your config.exs:

```elixir
config :tesla, disable_deprecated_builder_warning: true
```

  lib/tesla/builder.ex:9: Tesla.Builder."MACRO-__using__"/2
  (elixir 1.16.2) src/elixir_dispatch.erl:228: :elixir_dispatch.expand_macro_fun/7
  (elixir 1.16.2) src/elixir_dispatch.erl:215: :elixir_dispatch.expand_require/6
  (elixir 1.16.2) src/elixir_dispatch.erl:136: :elixir_dispatch.dispatch_require/7
  (elixir 1.16.2) src/elixir_expand.erl:539: :elixir_expand.expand_block/5
  (elixir 1.16.2) src/elixir_expand.erl:46: :elixir_expand.expand/3

Generated tesla app
==> oauth2
Compiling 13 files (.ex)
Generated oauth2 app
==> google_gax
Compiling 5 files (.ex)
Generated google_gax app
==> google_api_calendar
Compiling 57 files (.ex)
warning: `use Tesla.Builder` and `use Tesla` are soft-deprecated. It will be removed in future major version in favor of
Runtime Configuration instead. Please share your feedback at https://github.com/elixir-tesla/tesla/discussions/732

If you can turn off this warning, add the following to your config.exs:

```elixir
config :tesla, disable_deprecated_builder_warning: true
```

  (tesla 1.14.3) lib/tesla/builder.ex:9: Tesla.Builder."MACRO-__using__"/2
  (elixir 1.16.2) src/elixir_dispatch.erl:228: :elixir_dispatch.expand_macro_fun/7
  (elixir 1.16.2) src/elixir_dispatch.erl:215: :elixir_dispatch.expand_require/6
  (elixir 1.16.2) src/elixir_dispatch.erl:136: :elixir_dispatch.dispatch_require/7
  (elixir 1.16.2) src/elixir_expand.erl:539: :elixir_expand.expand_block/5
  (elixir 1.16.2) src/elixir_expand.erl:46: :elixir_expand.expand/3

Generated google_api_calendar app
==> earmark
Compiling 2 files (.xrl)
Compiling 1 file (.yrl)
Compiling 3 files (.erl)
Compiling 61 files (.ex)
Generated earmark app
==> ash
Compiling 480 files (.ex)
Generated ash app
==> ash_postgres
Compiling 45 files (.ex)
warning: `literal/1` is deprecated. Please use `identifier/1` instead.
  lib/data_layer.ex:1855: AshPostgres.DataLayer.upsert_set/3

warning: `literal/1` is deprecated. Please use `identifier/1` instead.
  lib/data_layer.ex:1869: AshPostgres.DataLayer.upsert_set/3

Generated ash_postgres app
==> ash_authentication
Compiling 108 files (.ex)
    warning: Assent.Config.put/3 is undefined (module Assent.Config is not available or is yet to be defined)
    │
 59 │          config <- Config.put(config, :session_params, session_params),
    │                           ~
    │
    └─ lib/ash_authentication/strategies/oauth2/plug.ex:59:27: AshAuthentication.Strategy.OAuth2.Plug.callback/2

Generated ash_authentication app
==> websock
Compiling 1 file (.ex)
Generated websock app
==> bandit
Compiling 54 files (.ex)
Generated bandit app
==> swoosh
Compiling 53 files (.ex)
Generated swoosh app
==> websock_adapter
Compiling 4 files (.ex)
Generated websock_adapter app
==> phoenix
Compiling 71 files (.ex)
Generated phoenix app
==> phoenix_live_reload
Compiling 5 files (.ex)
Generated phoenix_live_reload app
==> phoenix_live_view
Compiling 39 files (.ex)
Generated phoenix_live_view app
==> phoenix_live_dashboard
Compiling 36 files (.ex)
Generated phoenix_live_dashboard app
==> live_debugger
warning: the dependency :live_debugger requires Elixir "~> 1.17" but you are running on v1.16.2
Compiling 49 files (.ex)
Generated live_debugger app
==> ash_phoenix
Compiling 24 files (.ex)
Generated ash_phoenix app
==> ash_authentication_phoenix
Compiling 29 files (.ex)
    warning: Phoenix.Component.live_flash/2 is deprecated. Use Phoenix.Flash.get/2 in Phoenix v1.7+
    │
  1 │ <%= if live_flash(@flash, :info) do %>
    │        ~
    │
    └─ lib/ash_authentication_phoenix/templates/live.html.heex:1:8: AshAuthentication.Phoenix.LayoutView."live.html"/1
    └─ lib/ash_authentication_phoenix/templates/live.html.heex:9:9: AshAuthentication.Phoenix.LayoutView."live.html"/1
    └─ lib/ash_authentication_phoenix/templates/live.html.heex:13:8: AshAuthentication.Phoenix.LayoutView."live.html"/1
    └─ lib/ash_authentication_phoenix/templates/live.html.heex:21:9: AshAuthentication.Phoenix.LayoutView."live.html"/1

Generated ash_authentication_phoenix app
==> ash_admin
Compiling 31 files (.ex)
warning: defining a Gettext backend by calling

    use Gettext, otp_app: ...

is deprecated. To define a backend, call:

    use Gettext.Backend, otp_app: :my_app

Then, instead of importing your backend, call this in your module:

    use Gettext, backend: MyApp.Gettext

  lib/ash_admin/gettext.ex:23: AshAdmin.Gettext (module)

     warning: Phoenix.LiveView.push_redirect/2 is deprecated. Use push_navigate/2 instead
     │
 278 │      push_redirect(
     │      ~
     │
     └─ lib/ash_admin/components/resource/data_table.ex:278:6: AshAdmin.Components.Resource.DataTable.handle_event/3
     └─ lib/ash_admin/components/resource/data_table.ex:286:6: AshAdmin.Components.Resource.DataTable.handle_event/3

Generated ash_admin app
==> httpoison
Compiling 3 files (.ex)
Generated httpoison app
==> conv_case
Compiling 1 file (.ex)
Generated conv_case app
==> xema
Compiling 19 files (.ex)
Generated xema app
==> json_xema
Compiling 4 files (.ex)
Generated json_xema app
==> ash_json_api
Compiling 48 files (.ex)
    warning: use Plug.Test is deprecated. Please use `import Plug.Test` and `import Plug.Conn` directly instead.

    │
  3 │   use Plug.Test
    │   ~~~~~~~~~~~~~
    │
    └─ lib/ash_json_api/test/test.ex:3: AshJsonApi.Test (module)

Generated ash_json_api app
==> phoenix_ecto
Compiling 7 files (.ex)
Generated phoenix_ecto app
==> clinicpro
Compiling 134 files (.ex)
    warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 29 │     Supervisor.start_link(children, _opts)
    │                                     ~
    │
    └─ lib/clinicpro/application.ex:29:37: Clinicpro.Application.start/2

    warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 26 │     _appointment
    │     ~
    │
    └─ lib/clinicpro/admin_bypass/appointment.ex:26:5: Clinicpro.AdminBypass.Appointment.changeset/2

    warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 68 │     _appointment
    │     ~
    │
    └─ lib/clinicpro/admin_bypass/appointment.ex:68:5: Clinicpro.AdminBypass.Appointment.update_appointment/2

    warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 74 │     Clinicpro.Repo.delete(_appointment)
    │                           ~
    │
    └─ lib/clinicpro/admin_bypass/appointment.ex:74:27: Clinicpro.AdminBypass.Appointment.delete_appointment/1

    warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 78 │     changeset(_appointment, attrs)
    │               ~
    │
    └─ lib/clinicpro/admin_bypass/appointment.ex:78:15: Clinicpro.AdminBypass.Appointment.change_appointment/2

    warning: defp hash_password/1 is private, @doc attribute is always discarded for private functions/macros/types
    │
 54 │   @doc """
    │   ~~~~~~~~
    │
    └─ lib/clinicpro/admin.ex:54: Clinicpro.Admin.hash_password/1

    warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 32 │     _appointment
    │     ~
    │
    └─ lib/clinicpro/appointment.ex:32:5: Clinicpro.Appointment.changeset/2

    warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 65 │     changeset(_appointment, attrs)
    │               ~
    │
    └─ lib/clinicpro/appointment.ex:65:15: Clinicpro.Appointment.change/2

    warning: defp validate_time_range/1 is private, @doc attribute is always discarded for private functions/macros/types
    │
 68 │   @doc """
    │   ~~~~~~~~
    │
    └─ lib/clinicpro/appointment.ex:68: Clinicpro.Appointment.validate_time_range/1

     warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 125 │     |> filter_by_status(_opts)
     │                         ~
     │
     └─ lib/clinicpro/appointment.ex:125:25: Clinicpro.Appointment.list/1

     warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 126 │     |> filter_by_date(_opts)
     │                       ~
     │
     └─ lib/clinicpro/appointment.ex:126:23: Clinicpro.Appointment.list/1

     warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 127 │     |> filter_by_doctor_id(_opts)
     │                            ~
     │
     └─ lib/clinicpro/appointment.ex:127:28: Clinicpro.Appointment.list/1

     warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 128 │     |> filter_by_patient_id(_opts)
     │                             ~
     │
     └─ lib/clinicpro/appointment.ex:128:29: Clinicpro.Appointment.list/1

     warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 129 │     |> filter_by_type(_opts)
     │                       ~
     │
     └─ lib/clinicpro/appointment.ex:129:23: Clinicpro.Appointment.list/1

     warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 130 │     |> limit_query(_opts)
     │                    ~
     │
     └─ lib/clinicpro/appointment.ex:130:20: Clinicpro.Appointment.list/1

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 218 │     _appointment
     │     ~
     │
     └─ lib/clinicpro/appointment.ex:218:5: Clinicpro.Appointment.update/2

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 227 │     Repo.delete(_appointment)
     │                 ~
     │
     └─ lib/clinicpro/appointment.ex:227:17: Clinicpro.Appointment.delete/1

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 100 │         {:ok, %{patient: patient, _appointment: _appointment}}
     │                                                 ~
     │
     └─ lib/clinicpro/appointments.ex:100:49: Clinicpro.Appointments.create_guest_booking/1

    warning: unused import Ecto.Query
    │
  4 │   import Ecto.Query
    │   ~
    │
    └─ lib/clinicpro/admin.ex:4:3

    warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 25 │     {:ok, _opts}
    │           ~
    │
    └─ lib/clinicpro/changes/slugify.ex:25:11: Clinicpro.Changes.Slugify.init/1

    warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 30 │     source = Map.get(_opts, :source)
    │                      ~
    │
    └─ lib/clinicpro/changes/slugify.ex:30:22: Clinicpro.Changes.Slugify.change/3

    warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 31 │     target = Map.get(_opts, :target, :slug)
    │                      ~
    │
    └─ lib/clinicpro/changes/slugify.ex:31:22: Clinicpro.Changes.Slugify.change/3

    warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 32 │     force = Map.get(_opts, :force, false)
    │                     ~
    │
    └─ lib/clinicpro/changes/slugify.ex:32:21: Clinicpro.Changes.Slugify.change/3

    warning: unused alias Clinic
    │
 11 │   alias Clinicpro.Clinic
    │   ~
    │
    └─ lib/clinicpro/auth/otp.ex:11:3

    warning: unused import Ecto.Query
    │
  4 │   import Ecto.Query
    │   ~
    │
    └─ lib/clinicpro/clinic_setting.ex:4:3

    warning: unused alias Clinic
    │
  9 │   alias Clinicpro.Clinic
    │   ~
    │
    └─ lib/clinicpro/auth/otp_delivery.ex:9:3

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 102 │         from q in query, where: q._clinic_id == ^_clinic_id
     │                                                  ~
     │
     └─ lib/clinicpro/admin_bypass/invoice.ex:102:50: Clinicpro.AdminBypass.Invoice.list_invoices/1

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 41 │     mpesa_config = Config.get_config_for_clinic(_clinic_id)
    │                                                 ~
    │
    └─ lib/clinicpro/invoices/payment_processor.ex:41:49: Clinicpro.Invoices.PaymentProcessor.initiate_payment/3

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 53 │       _clinic_id: _clinic_id
    │                   ~
    │
    └─ lib/clinicpro/invoices/payment_processor.ex:53:19: Clinicpro.Invoices.PaymentProcessor.initiate_payment/3

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 67 │           _clinic_id: _clinic_id,
    │                       ~
    │
    └─ lib/clinicpro/invoices/payment_processor.ex:67:23: Clinicpro.Invoices.PaymentProcessor.initiate_payment/3

     warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 125 │         invoice = Invoices.get_invoice(_transaction.invoice_id)
     │                                        ~
     │
     └─ lib/clinicpro/invoices/payment_processor.ex:125:40: Clinicpro.Invoices.PaymentProcessor.process_callback/1

     warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 136 │             process_failed_payment(_transaction, invoice, callback_data)
     │                                    ~
     │
     └─ lib/clinicpro/invoices/payment_processor.ex:136:36: Clinicpro.Invoices.PaymentProcessor.process_callback/1

     warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 133 │             process_successful_payment(_transaction, invoice, callback_data)
     │                                        ~
     │
     └─ lib/clinicpro/invoices/payment_processor.ex:133:40: Clinicpro.Invoices.PaymentProcessor.process_callback/1

     warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 163 │         _clinic_id = _transaction._clinic_id
     │                      ~
     │
     └─ lib/clinicpro/invoices/payment_processor.ex:163:22: Clinicpro.Invoices.PaymentProcessor.check_payment_status/1

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 166 │         mpesa_config = Config.get_config_for_clinic(_clinic_id)
     │                                                     ~
     │
     └─ lib/clinicpro/invoices/payment_processor.ex:166:53: Clinicpro.Invoices.PaymentProcessor.check_payment_status/1

     warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 169 │         case STKPush.query_status(_transaction.checkout_request_id, mpesa_config) do
     │                                   ~
     │
     └─ lib/clinicpro/invoices/payment_processor.ex:169:35: Clinicpro.Invoices.PaymentProcessor.check_payment_status/1

     warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 172 │             process_successful_payment(_transaction, invoice, %{
     │                                        ~
     │
     └─ lib/clinicpro/invoices/payment_processor.ex:172:40: Clinicpro.Invoices.PaymentProcessor.check_payment_status/1

     warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 179 │             process_failed_payment(_transaction, invoice, %{
     │                                    ~
     │
     └─ lib/clinicpro/invoices/payment_processor.ex:179:36: Clinicpro.Invoices.PaymentProcessor.check_payment_status/1

     warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 200 │     {:ok, updated_transaction} = Transaction.update(_transaction, %{
     │                                                     ~
     │
     └─ lib/clinicpro/invoices/payment_processor.ex:200:53: Clinicpro.Invoices.PaymentProcessor.process_successful_payment/3

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 220 │       if _appointment do
     │          ~
     │
     └─ lib/clinicpro/invoices/payment_processor.ex:220:10: Clinicpro.Invoices.PaymentProcessor.process_successful_payment/3

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 221 │         {:ok, _updated_appointment} = Appointments.update_appointment(_appointment, %{
     │                                                                       ~
     │
     └─ lib/clinicpro/invoices/payment_processor.ex:221:71: Clinicpro.Invoices.PaymentProcessor.process_successful_payment/3

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 226 │         send_payment_confirmation_notification(_appointment, updated_invoice)
     │                                                ~
     │
     └─ lib/clinicpro/invoices/payment_processor.ex:226:48: Clinicpro.Invoices.PaymentProcessor.process_successful_payment/3

     warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 239 │     {:ok, updated_transaction} = Transaction.update(_transaction, %{
     │                                                     ~
     │
     └─ lib/clinicpro/invoices/payment_processor.ex:239:53: Clinicpro.Invoices.PaymentProcessor.process_failed_payment/3

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 256 │     phone_number = _appointment.patient.phone_number
     │                    ~
     │
     └─ lib/clinicpro/invoices/payment_processor.ex:256:20: Clinicpro.Invoices.PaymentProcessor.send_payment_confirmation_notification/2

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 259 │     clinic = Clinics.get_clinic(get_clinic_id_from_appointment(_appointment))
     │                                                                ~
     │
     └─ lib/clinicpro/invoices/payment_processor.ex:259:64: Clinicpro.Invoices.PaymentProcessor.send_payment_confirmation_notification/2

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 265 │     For: Appointment with Dr. #{_appointment.doctor.name}
     │                                 ~
     │
     └─ lib/clinicpro/invoices/payment_processor.ex:265:33: Clinicpro.Invoices.PaymentProcessor.send_payment_confirmation_notification/2

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 266 │     Date: #{Calendar.strftime(_appointment.start_time, "%B %d, %Y at %I:%M %p")}
     │                               ~
     │
     └─ lib/clinicpro/invoices/payment_processor.ex:266:31: Clinicpro.Invoices.PaymentProcessor.send_payment_confirmation_notification/2

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 267 │     #{if _appointment.appointment_type == "virtual", do: "\nVirtual meeting link will be available before your _appointment.", else: "\nLocation: #{clinic.name}, #{clinic.address}"}
     │          ~
     │
     └─ lib/clinicpro/invoices/payment_processor.ex:267:10: Clinicpro.Invoices.PaymentProcessor.send_payment_confirmation_notification/2

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 273 │     Notifications.send_sms(phone_number, message, get_clinic_id_from_appointment(_appointment))
     │                                                                                  ~
     │
     └─ lib/clinicpro/invoices/payment_processor.ex:273:82: Clinicpro.Invoices.PaymentProcessor.send_payment_confirmation_notification/2

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 285 │         get_clinic_id_from_appointment(_appointment)
     │                                        ~
     │
     └─ lib/clinicpro/invoices/payment_processor.ex:285:40: Clinicpro.Invoices.PaymentProcessor.get_clinic_id_from_invoice/1

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 296 │       _appointment._clinic_id && _appointment._clinic_id != "" ->
     │       ~
     │
     └─ lib/clinicpro/invoices/payment_processor.ex:296:7: Clinicpro.Invoices.PaymentProcessor.get_clinic_id_from_appointment/1

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 296 │       _appointment._clinic_id && _appointment._clinic_id != "" ->
     │                                  ~
     │
     └─ lib/clinicpro/invoices/payment_processor.ex:296:34: Clinicpro.Invoices.PaymentProcessor.get_clinic_id_from_appointment/1

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 297 │         _appointment._clinic_id
     │         ~
     │
     └─ lib/clinicpro/invoices/payment_processor.ex:297:9: Clinicpro.Invoices.PaymentProcessor.get_clinic_id_from_appointment/1

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 300 │       _appointment.doctor && _appointment.doctor._clinic_id && _appointment.doctor._clinic_id != "" ->
     │       ~
     │
     └─ lib/clinicpro/invoices/payment_processor.ex:300:7: Clinicpro.Invoices.PaymentProcessor.get_clinic_id_from_appointment/1

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 300 │       _appointment.doctor && _appointment.doctor._clinic_id && _appointment.doctor._clinic_id != "" ->
     │                              ~
     │
     └─ lib/clinicpro/invoices/payment_processor.ex:300:30: Clinicpro.Invoices.PaymentProcessor.get_clinic_id_from_appointment/1

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 300 │       _appointment.doctor && _appointment.doctor._clinic_id && _appointment.doctor._clinic_id != "" ->
     │                                                                ~
     │
     └─ lib/clinicpro/invoices/payment_processor.ex:300:64: Clinicpro.Invoices.PaymentProcessor.get_clinic_id_from_appointment/1

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 301 │         _appointment.doctor._clinic_id
     │         ~
     │
     └─ lib/clinicpro/invoices/payment_processor.ex:301:9: Clinicpro.Invoices.PaymentProcessor.get_clinic_id_from_appointment/1

    warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 73 │     |> filter_by_active(_opts)
    │                         ~
    │
    └─ lib/clinicpro/doctor.ex:73:25: Clinicpro.Doctor.list/1

    warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 74 │     |> filter_by_name(_opts)
    │                       ~
    │
    └─ lib/clinicpro/doctor.ex:74:23: Clinicpro.Doctor.list/1

    warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 75 │     |> filter_by_email(_opts)
    │                        ~
    │
    └─ lib/clinicpro/doctor.ex:75:24: Clinicpro.Doctor.list/1

    warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 76 │     |> filter_by_specialty(_opts)
    │                            ~
    │
    └─ lib/clinicpro/doctor.ex:76:28: Clinicpro.Doctor.list/1

    warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 77 │     |> limit_query(_opts)
    │                    ~
    │
    └─ lib/clinicpro/doctor.ex:77:20: Clinicpro.Doctor.list/1

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 17 │     case TypesenseConfig.search_medications(_clinic_id, query, options) do
    │                                             ~
    │
    └─ lib/clinicpro/medications/medications.ex:17:45: Clinicpro.Medications.search/3

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 32 │     case TypesenseConfig.index_medication(_clinic_id, medication) do
    │                                           ~
    │
    └─ lib/clinicpro/medications/medications.ex:32:43: Clinicpro.Medications.add_medication/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 49 │     TypesenseConfig.create_collection_if_not_exists(_clinic_id)
    │                                                     ~
    │
    └─ lib/clinicpro/medications/medications.ex:49:53: Clinicpro.Medications.bulk_import/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 52 │     collection_name = TypesenseConfig.collection_name(_clinic_id)
    │                                                       ~
    │
    └─ lib/clinicpro/medications/medications.ex:52:55: Clinicpro.Medications.bulk_import/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 25 │     config = Config.get_config(_clinic_id)
    │                                ~
    │
    └─ lib/clinicpro/mpesa/auth.ex:25:32: Clinicpro.MPesa.Auth.generate_access_token/1

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 43 │             cache_token(_clinic_id, token, expires_in)
    │                         ~
    │
    └─ lib/clinicpro/mpesa/auth.ex:43:25: Clinicpro.MPesa.Auth.generate_access_token/1

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 75 │     case get_cached_token(_clinic_id) do
    │                           ~
    │
    └─ lib/clinicpro/mpesa/auth.ex:75:27: Clinicpro.MPesa.Auth.get_access_token/1

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 81 │         case generate_access_token(_clinic_id) do
    │                                    ~
    │
    └─ lib/clinicpro/mpesa/auth.ex:81:36: Clinicpro.MPesa.Auth.get_access_token/1

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 132 │     Process.put({:mpesa_token, _clinic_id}, {token, expiry})
     │                                ~
     │
     └─ lib/clinicpro/mpesa/auth.ex:132:32: Clinicpro.MPesa.Auth.cache_token/3

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 138 │     case Process.get({:mpesa_token, _clinic_id}) do
     │                                     ~
     │
     └─ lib/clinicpro/mpesa/auth.ex:138:37: Clinicpro.MPesa.Auth.get_cached_token/1

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 148 │           Process.delete({:mpesa_token, _clinic_id})
     │                                         ~
     │
     └─ lib/clinicpro/mpesa/auth.ex:148:41: Clinicpro.MPesa.Auth.get_cached_token/1

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 30 │   def collection_name(_clinic_id) when is_binary(_clinic_id) do
    │                                                  ~
    │
    └─ lib/clinicpro/medications/typesense_config.ex:30:50: Clinicpro.Medications.TypesenseConfig.collection_name/1

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 31 │     "medications_#{_clinic_id}"
    │                    ~
    │
    └─ lib/clinicpro/medications/typesense_config.ex:31:20: Clinicpro.Medications.TypesenseConfig.collection_name/1

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 37 │   def create_collection_if_not_exists(_clinic_id) when is_binary(_clinic_id) do
    │                                                                  ~
    │
    └─ lib/clinicpro/medications/typesense_config.ex:37:66: Clinicpro.Medications.TypesenseConfig.create_collection_if_not_exists/1

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 38 │     collection_name = collection_name(_clinic_id)
    │                                       ~
    │
    └─ lib/clinicpro/medications/typesense_config.ex:38:39: Clinicpro.Medications.TypesenseConfig.create_collection_if_not_exists/1

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 104 │     collection_name = collection_name(_clinic_id)
     │                                       ~
     │
     └─ lib/clinicpro/medications/typesense_config.ex:104:39: Clinicpro.Medications.TypesenseConfig.index_medication/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 107 │     create_collection_if_not_exists(_clinic_id)
     │                                     ~
     │
     └─ lib/clinicpro/medications/typesense_config.ex:107:37: Clinicpro.Medications.TypesenseConfig.index_medication/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 117 │     collection_name = collection_name(_clinic_id)
     │                                       ~
     │
     └─ lib/clinicpro/medications/typesense_config.ex:117:39: Clinicpro.Medications.TypesenseConfig.search_medications/3

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 143 │       create_collection_if_not_exists(_clinic_id)
     │                                       ~
     │
     └─ lib/clinicpro/medications/typesense_config.ex:143:39: Clinicpro.Medications.TypesenseConfig.initialize_for_all_clinics/0

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 25 │     config = Config.get_config(_clinic_id)
    │                                ~
    │
    └─ lib/clinicpro/mpesa/c2b.ex:25:32: Clinicpro.MPesa.C2B.register_urls/1

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 28 │     with {:ok, access_token} <- Auth.get_access_token(_clinic_id) do
    │                                                       ~
    │
    └─ lib/clinicpro/mpesa/c2b.ex:28:55: Clinicpro.MPesa.C2B.register_urls/1

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 51 │               Logger.info("C2B URLs registered successfully for clinic #{_clinic_id}: #{description}")
    │                                                                          ~
    │
    └─ lib/clinicpro/mpesa/c2b.ex:51:74: Clinicpro.MPesa.C2B.register_urls/1

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 55 │               Logger.error("C2B URL registration failed for clinic #{_clinic_id}: #{error_code} - #{error_message}")
    │                                                                      ~
    │
    └─ lib/clinicpro/mpesa/c2b.ex:55:70: Clinicpro.MPesa.C2B.register_urls/1

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 59 │               Logger.error("Unexpected C2B URL registration response for clinic #{_clinic_id}: #{inspect(response)}")
    │                                                                                   ~
    │
    └─ lib/clinicpro/mpesa/c2b.ex:59:83: Clinicpro.MPesa.C2B.register_urls/1

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 63 │               Logger.error("Failed to parse C2B URL registration response for clinic #{_clinic_id}: #{inspect(error)}")
    │                                                                                        ~
    │
    └─ lib/clinicpro/mpesa/c2b.ex:63:88: Clinicpro.MPesa.C2B.register_urls/1

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 68 │           Logger.error("C2B URL registration failed for clinic #{_clinic_id} with status #{status_code}: #{body}")
    │                                                                  ~
    │
    └─ lib/clinicpro/mpesa/c2b.ex:68:66: Clinicpro.MPesa.C2B.register_urls/1

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 72 │           Logger.error("C2B URL registration failed for clinic #{_clinic_id}: #{inspect(reason)}")
    │                                                                  ~
    │
    └─ lib/clinicpro/mpesa/c2b.ex:72:66: Clinicpro.MPesa.C2B.register_urls/1

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 95 │     config = Config.get_config(_clinic_id)
    │                                ~
    │
    └─ lib/clinicpro/mpesa/c2b.ex:95:32: Clinicpro.MPesa.C2B.simulate_payment/4

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 106 │       with {:ok, access_token} <- Auth.get_access_token(_clinic_id) do
     │                                                         ~
     │
     └─ lib/clinicpro/mpesa/c2b.ex:106:57: Clinicpro.MPesa.C2B.simulate_payment/4

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 130 │                 Logger.info("C2B payment simulation successful for clinic #{_clinic_id}: #{description}")
     │                                                                             ~
     │
     └─ lib/clinicpro/mpesa/c2b.ex:130:77: Clinicpro.MPesa.C2B.simulate_payment/4

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 134 │                 Logger.error("C2B payment simulation failed for clinic #{_clinic_id}: #{error_code} - #{error_message}")
     │                                                                          ~
     │
     └─ lib/clinicpro/mpesa/c2b.ex:134:74: Clinicpro.MPesa.C2B.simulate_payment/4

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 138 │                 Logger.error("Unexpected C2B payment simulation response for clinic #{_clinic_id}: #{inspect(response)}")
     │                                                                                       ~
     │
     └─ lib/clinicpro/mpesa/c2b.ex:138:87: Clinicpro.MPesa.C2B.simulate_payment/4

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 142 │                 Logger.error("Failed to parse C2B payment simulation response for clinic #{_clinic_id}: #{inspect(error)}")
     │                                                                                            ~
     │
     └─ lib/clinicpro/mpesa/c2b.ex:142:92: Clinicpro.MPesa.C2B.simulate_payment/4

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 147 │             Logger.error("C2B payment simulation failed for clinic #{_clinic_id} with status #{status_code}: #{body}")
     │                                                                      ~
     │
     └─ lib/clinicpro/mpesa/c2b.ex:147:70: Clinicpro.MPesa.C2B.simulate_payment/4

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 151 │             Logger.error("C2B payment simulation failed for clinic #{_clinic_id}: #{inspect(reason)}")
     │                                                                      ~
     │
     └─ lib/clinicpro/mpesa/c2b.ex:151:70: Clinicpro.MPesa.C2B.simulate_payment/4

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 99 │       Logger.error("C2B simulation is only available in sandbox environment for clinic #{_clinic_id}")
    │                                                                                          ~
    │
    └─ lib/clinicpro/mpesa/c2b.ex:99:90: Clinicpro.MPesa.C2B.simulate_payment/4

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 173 │     Logger.info("Processing C2B validation request for clinic #{_clinic_id}: #{inspect(params)}")
     │                                                                 ~
     │
     └─ lib/clinicpro/mpesa/c2b.ex:173:65: Clinicpro.MPesa.C2B.process_validation/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 200 │     Logger.info("Processing C2B confirmation request for clinic #{_clinic_id}: #{inspect(params)}")
     │                                                                   ~
     │
     └─ lib/clinicpro/mpesa/c2b.ex:200:67: Clinicpro.MPesa.C2B.process_confirmation/2

    warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 28 │          :ok <- validate_clinic_transaction(_transaction, data),
    │                                             ~
    │
    └─ lib/clinicpro/mpesa/callback.ex:28:45: Clinicpro.MPesa.Callback.process_stk_callback/1

    warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 29 │          {:ok, updated_transaction} <- update_transaction_status(_transaction, data) do
    │                                                                  ~
    │
    └─ lib/clinicpro/mpesa/callback.ex:29:66: Clinicpro.MPesa.Callback.process_stk_callback/1

    warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 62 │          :ok <- validate_clinic_transaction(_transaction, data),
    │                                             ~
    │
    └─ lib/clinicpro/mpesa/callback.ex:62:45: Clinicpro.MPesa.Callback.process_c2b_confirmation/1

    warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 63 │          {:ok, updated_transaction} <- update_transaction_status(_transaction, data) do
    │                                                                  ~
    │
    └─ lib/clinicpro/mpesa/callback.ex:63:66: Clinicpro.MPesa.Callback.process_c2b_confirmation/1

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 123 │     if _clinic_id do
     │        ~
     │
     └─ lib/clinicpro/mpesa/callback.ex:123:8: Clinicpro.MPesa.Callback.extract_c2b_callback_data/1

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 133 │         _clinic_id: _clinic_id,
     │                     ~
     │
     └─ lib/clinicpro/mpesa/callback.ex:133:21: Clinicpro.MPesa.Callback.extract_c2b_callback_data/1

     warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 157 │           _transaction -> {:ok, _transaction}
     │                                 ~
     │
     └─ lib/clinicpro/mpesa/callback.ex:157:33: Clinicpro.MPesa.Callback.find_transaction/1

     warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 160 │         {:ok, _transaction}
     │               ~
     │
     └─ lib/clinicpro/mpesa/callback.ex:160:15: Clinicpro.MPesa.Callback.find_transaction/1

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 166 │     case Transaction.get_by_transaction_id(transaction_id, _clinic_id) do
     │                                                            ~
     │
     └─ lib/clinicpro/mpesa/callback.ex:166:60: Clinicpro.MPesa.Callback.find_or_create_c2b_transaction/1

     warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 185 │           {:ok, _transaction} -> {:ok, _transaction}
     │                                        ~
     │
     └─ lib/clinicpro/mpesa/callback.ex:185:40: Clinicpro.MPesa.Callback.find_or_create_c2b_transaction/1

     warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 189 │         {:ok, _transaction}
     │               ~
     │
     └─ lib/clinicpro/mpesa/callback.ex:189:15: Clinicpro.MPesa.Callback.find_or_create_c2b_transaction/1

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 193 │   defp validate_clinic_transaction(_transaction, %{_clinic_id: _clinic_id}) when not is_nil(_clinic_id) do
     │                                                                                             ~
     │
     └─ lib/clinicpro/mpesa/callback.ex:193:93: Clinicpro.MPesa.Callback.validate_clinic_transaction/2

     warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 194 │     if _transaction._clinic_id == _clinic_id do
     │        ~
     │
     └─ lib/clinicpro/mpesa/callback.ex:194:8: Clinicpro.MPesa.Callback.validate_clinic_transaction/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 194 │     if _transaction._clinic_id == _clinic_id do
     │                                   ~
     │
     └─ lib/clinicpro/mpesa/callback.ex:194:35: Clinicpro.MPesa.Callback.validate_clinic_transaction/2

     warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 212 │     Transaction.update(_transaction, attrs)
     │                        ~
     │
     └─ lib/clinicpro/mpesa/callback.ex:212:24: Clinicpro.MPesa.Callback.update_transaction_status/2

     warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 223 │     Transaction.update(_transaction, attrs)
     │                        ~
     │
     └─ lib/clinicpro/mpesa/callback.ex:223:24: Clinicpro.MPesa.Callback.update_transaction_status/2

     warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 232 │       _transaction.invoice_id,
     │       ~
     │
     └─ lib/clinicpro/mpesa/callback.ex:232:7: Clinicpro.MPesa.Callback.process_successful_payment/1

     warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 233 │       _transaction._clinic_id,
     │       ~
     │
     └─ lib/clinicpro/mpesa/callback.ex:233:7: Clinicpro.MPesa.Callback.process_successful_payment/1

     warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 235 │         transaction_id: _transaction.transaction_id,
     │                         ~
     │
     └─ lib/clinicpro/mpesa/callback.ex:235:25: Clinicpro.MPesa.Callback.process_successful_payment/1

     warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 236 │         amount: _transaction.amount,
     │                 ~
     │
     └─ lib/clinicpro/mpesa/callback.ex:236:17: Clinicpro.MPesa.Callback.process_successful_payment/1

     warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 237 │         phone_number: _transaction.phone_number
     │                       ~
     │
     └─ lib/clinicpro/mpesa/callback.ex:237:23: Clinicpro.MPesa.Callback.process_successful_payment/1

     warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 248 │       _transaction.invoice_id,
     │       ~
     │
     └─ lib/clinicpro/mpesa/callback.ex:248:7: Clinicpro.MPesa.Callback.process_failed_payment/1

     warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 249 │       _transaction._clinic_id,
     │       ~
     │
     └─ lib/clinicpro/mpesa/callback.ex:249:7: Clinicpro.MPesa.Callback.process_failed_payment/1

     warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 251 │         result_code: _transaction.result_code,
     │                      ~
     │
     └─ lib/clinicpro/mpesa/callback.ex:251:22: Clinicpro.MPesa.Callback.process_failed_payment/1

     warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 252 │         result_description: _transaction.result_description
     │                             ~
     │
     └─ lib/clinicpro/mpesa/callback.ex:252:29: Clinicpro.MPesa.Callback.process_failed_payment/1

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 270 │     case Clinicpro.Invoices.get_invoice(invoice_id, _clinic_id) do
     │                                                     ~
     │
     └─ lib/clinicpro/mpesa/callback.ex:270:53: Clinicpro.MPesa.Callback.get_patient_id_from_invoice/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 65 │     Repo.get_by(CallbackLog, id: id, _clinic_id: _clinic_id)
    │                                                  ~
    │
    └─ lib/clinicpro/mpesa/callback_log.ex:65:50: Clinicpro.MPesa.CallbackLog.get_by_id_and_clinic/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 84 │     |> where(_clinic_id: ^_clinic_id)
    │                           ~
    │
    └─ lib/clinicpro/mpesa/callback_log.ex:84:27: Clinicpro.MPesa.CallbackLog.paginate_by_clinic/4

    warning: the underscored variable "_per_page" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 90 │     total_pages = ceil(total_count / _per_page)
    │                                      ~
    │
    └─ lib/clinicpro/mpesa/callback_log.ex:90:38: Clinicpro.MPesa.CallbackLog.paginate_by_clinic/4

    warning: the underscored variable "_per_page" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 94 │     |> limit(^_per_page)
    │               ~
    │
    └─ lib/clinicpro/mpesa/callback_log.ex:94:15: Clinicpro.MPesa.CallbackLog.paginate_by_clinic/4

    warning: the underscored variable "_page" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 95 │     |> offset(^((_page - 1) * _per_page))
    │                  ~
    │
    └─ lib/clinicpro/mpesa/callback_log.ex:95:18: Clinicpro.MPesa.CallbackLog.paginate_by_clinic/4

    warning: the underscored variable "_per_page" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 95 │     |> offset(^((_page - 1) * _per_page))
    │                               ~
    │
    └─ lib/clinicpro/mpesa/callback_log.ex:95:31: Clinicpro.MPesa.CallbackLog.paginate_by_clinic/4

     warning: the underscored variable "_page" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 100 │       _page: _page,
     │              ~
     │
     └─ lib/clinicpro/mpesa/callback_log.ex:100:14: Clinicpro.MPesa.CallbackLog.paginate_by_clinic/4

     warning: the underscored variable "_per_page" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 101 │       _per_page: _per_page,
     │                  ~
     │
     └─ lib/clinicpro/mpesa/callback_log.ex:101:18: Clinicpro.MPesa.CallbackLog.paginate_by_clinic/4

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 122 │     |> where(_clinic_id: ^_clinic_id)
     │                           ~
     │
     └─ lib/clinicpro/mpesa/callback_log.ex:122:27: Clinicpro.MPesa.CallbackLog.list_by_transaction/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 142 │     |> where(_clinic_id: ^_clinic_id)
     │                           ~
     │
     └─ lib/clinicpro/mpesa/callback_log.ex:142:27: Clinicpro.MPesa.CallbackLog.list_by_type/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 191 │     case Invoice.get_by_id(invoice_id, _clinic_id) do
     │                                        ~
     │
     └─ lib/clinicpro/mpesa/helpers.ex:191:40: Clinicpro.MPesa.Helpers.map_invoice_to_patient_id/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 193 │         Logger.error("No invoice found with ID #{invoice_id} for clinic #{_clinic_id}")
     │                                                                           ~
     │
     └─ lib/clinicpro/mpesa/helpers.ex:193:75: Clinicpro.MPesa.Helpers.map_invoice_to_patient_id/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 98 │     case Repo.get_by(Config, _clinic_id: _clinic_id, active: true) do
    │                                          ~
    │
    └─ lib/clinicpro/mpesa/config.ex:98:42: Clinicpro.MPesa.Config.get_active_config/1

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 117 │     Repo.get_by(Config, _clinic_id: _clinic_id)
     │                                     ~
     │
     └─ lib/clinicpro/mpesa/config.ex:117:37: Clinicpro.MPesa.Config.get_config/1

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 146 │     |> where(_clinic_id: ^_clinic_id)
     │                           ~
     │
     └─ lib/clinicpro/mpesa/config.ex:146:27: Clinicpro.MPesa.Config.list_configs/1

    warning: redefining module Clinicpro.MPesa.STKPushBehaviour (current version loaded from _build/dev/lib/clinicpro/ebin/Elixir.Clinicpro.MPesa.STKPushBehaviour.beam)
    │
  1 │ defmodule Clinicpro.MPesa.STKPushBehaviour do
    │ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    │
    └─ lib/clinicpro/mpesa/stk_push_behaviour.ex:1: Clinicpro.MPesa.STKPushBehaviour (module)

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 32 │     Logger.info("MOCK: Sending STK Push for clinic #{_clinic_id} to #{phone_number} for amount #{amount}")
    │                                                      ~
    │
    └─ lib/clinicpro/mpesa/mock_stk_push.ex:32:54: Clinicpro.MPesa.MockSTKPush.send_stk_push/5

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 35 │     _config = Config.get_config(_clinic_id)
    │                                 ~
    │
    └─ lib/clinicpro/mpesa/mock_stk_push.ex:35:33: Clinicpro.MPesa.MockSTKPush.send_stk_push/5

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 65 │     Logger.info("MOCK: Querying STK Push status for clinic #{_clinic_id}, checkout request ID: #{checkout_request_id}")
    │                                                              ~
    │
    └─ lib/clinicpro/mpesa/mock_stk_push.ex:65:62: Clinicpro.MPesa.MockSTKPush.query_stk_push_status/3

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 68 │     _config = Config.get_config(_clinic_id)
    │                                 ~
    │
    └─ lib/clinicpro/mpesa/mock_stk_push.ex:68:33: Clinicpro.MPesa.MockSTKPush.query_stk_push_status/3

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 35 │     with {:ok, _transaction} <- create_pending_transaction(phone_number, amount, reference, description, _clinic_id),
    │                                                                                                          ~
    │
    └─ lib/clinicpro/mpesa/mpesa.ex:35:106: Clinicpro.MPesa.initiate_stk_push/5

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 39 │          {:ok, response} <- stk_push_module.send_stk_push(phone_number, amount, reference, description, _clinic_id) do
    │                                                                                                         ~
    │
    └─ lib/clinicpro/mpesa/mpesa.ex:39:105: Clinicpro.MPesa.initiate_stk_push/5

    warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 42 │       {:ok, updated_transaction} = Transaction.update(_transaction, %{
    │                                                       ~
    │
    └─ lib/clinicpro/mpesa/mpesa.ex:42:55: Clinicpro.MPesa.initiate_stk_push/5

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 70 │     case Transaction.get_by_checkout_request_id(checkout_request_id, _clinic_id) do
    │                                                                      ~
    │
    └─ lib/clinicpro/mpesa/mpesa.ex:70:70: Clinicpro.MPesa.check_stk_push_status/2

    warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 76 │         if _transaction.status == "pending" do
    │            ~
    │
    └─ lib/clinicpro/mpesa/mpesa.ex:76:12: Clinicpro.MPesa.check_stk_push_status/2

    warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 92 │           {:ok, _transaction}
    │                 ~
    │
    └─ lib/clinicpro/mpesa/mpesa.ex:92:17: Clinicpro.MPesa.check_stk_push_status/2

    warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 81 │           case stk_push_module.query_stk_push_status(checkout_request_id, _transaction.merchant_request_id, _clinic_id) do
    │                                                                           ~
    │
    └─ lib/clinicpro/mpesa/mpesa.ex:81:75: Clinicpro.MPesa.check_stk_push_status/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 81 │           case stk_push_module.query_stk_push_status(checkout_request_id, _transaction.merchant_request_id, _clinic_id) do
    │                                                                                                             ~
    │
    └─ lib/clinicpro/mpesa/mpesa.ex:81:109: Clinicpro.MPesa.check_stk_push_status/2

    warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 84 │               update_transaction_from_status(_transaction, status_response)
    │                                              ~
    │
    └─ lib/clinicpro/mpesa/mpesa.ex:84:46: Clinicpro.MPesa.check_stk_push_status/2

    warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 88 │               {:ok, _transaction}
    │                     ~
    │
    └─ lib/clinicpro/mpesa/mpesa.ex:88:21: Clinicpro.MPesa.check_stk_push_status/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 143 │     Transaction.get_by_checkout_request_id(checkout_request_id, _clinic_id)
     │                                                                 ~
     │
     └─ lib/clinicpro/mpesa/mpesa.ex:143:65: Clinicpro.MPesa.get_transaction_by_checkout_request_id/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 160 │     Transaction.get_by_merchant_request_id(merchant_request_id, _clinic_id)
     │                                                                 ~
     │
     └─ lib/clinicpro/mpesa/mpesa.ex:160:65: Clinicpro.MPesa.get_transaction_by_merchant_request_id/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 175 │     Transaction.list_by_clinic_id(_clinic_id)
     │                                   ~
     │
     └─ lib/clinicpro/mpesa/mpesa.ex:175:35: Clinicpro.MPesa.list_transactions_by_clinic/1

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 206 │     Transaction.list_by_patient_id(patient_id, _clinic_id)
     │                                                ~
     │
     └─ lib/clinicpro/mpesa/mpesa.ex:206:48: Clinicpro.MPesa.list_transactions_by_patient/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 221 │     Config.get_config(_clinic_id)
     │                       ~
     │
     └─ lib/clinicpro/mpesa/mpesa.ex:221:23: Clinicpro.MPesa.get_config/1

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 238 │     case Config.get_by_clinic_id(_clinic_id) do
     │                                  ~
     │
     └─ lib/clinicpro/mpesa/mpesa.ex:238:34: Clinicpro.MPesa.update_config/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 241 │         Config.create(Map.put(attrs, :_clinic_id, _clinic_id))
     │                                                   ~
     │
     └─ lib/clinicpro/mpesa/mpesa.ex:241:51: Clinicpro.MPesa.update_config/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 255 │     patient_id = get_patient_id_from_invoice(invoice_id, _clinic_id)
     │                                                          ~
     │
     └─ lib/clinicpro/mpesa/mpesa.ex:255:58: Clinicpro.MPesa.create_pending_transaction/5

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 259 │       _clinic_id: _clinic_id,
     │                   ~
     │
     └─ lib/clinicpro/mpesa/mpesa.ex:259:19: Clinicpro.MPesa.create_pending_transaction/5

     warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 296 │     Transaction.update(_transaction, attrs)
     │                        ~
     │
     └─ lib/clinicpro/mpesa/mpesa.ex:296:24: Clinicpro.MPesa.update_transaction_from_status/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 306 │     case Clinicpro.Invoices.get_invoice(invoice_id, _clinic_id) do
     │                                                     ~
     │
     └─ lib/clinicpro/mpesa/mpesa.ex:306:53: Clinicpro.MPesa.get_patient_id_from_invoice/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 29 │     callback_url = "http://localhost:4000/api/mpesa/callbacks/stk/#{_clinic_id}"
    │                                                                     ~
    │
    └─ lib/clinicpro/mpesa/simulator.ex:29:69: Clinicpro.MPesaCallbackSimulator.simulate_stk_callback/4

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 35 │           "MerchantRequestID" => "#{_clinic_id}-#{:os.system_time(:millisecond)}",
    │                                     ~
    │
    └─ lib/clinicpro/mpesa/simulator.ex:35:37: Clinicpro.MPesaCallbackSimulator.simulate_stk_callback/4

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 87 │     callback_url = "http://localhost:4000/api/mpesa/callbacks/c2b/#{_clinic_id}"
    │                                                                     ~
    │
    └─ lib/clinicpro/mpesa/simulator.ex:87:69: Clinicpro.MPesaCallbackSimulator.simulate_c2b_callback/4

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 31 │     config = Config.get_config(_clinic_id)
    │                                ~
    │
    └─ lib/clinicpro/mpesa/stk_push.ex:31:32: Clinicpro.MPesa.STKPush.request/4

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 46 │     with {:ok, token} <- Auth.get_access_token(_clinic_id),
    │                                                ~
    │
    └─ lib/clinicpro/mpesa/stk_push.ex:46:48: Clinicpro.MPesa.STKPush.request/4

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 219 │     case get_active_config(_clinic_id) do
     │                            ~
     │
     └─ lib/clinicpro/mpesa/config.ex:219:28: Clinicpro.MPesa.Config.get_shortcode/1

    warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 48 │         IO.puts("Transaction ID: #{_transaction.id}")
    │                                    ~
    │
    └─ lib/clinicpro/mpesa_standalone_test.ex:48:36: Clinicpro.MPesaStandaloneTest.run_stk_push_test/0

    warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 49 │         IO.puts("Checkout Request ID: #{_transaction.checkout_request_id}")
    │                                         ~
    │
    └─ lib/clinicpro/mpesa_standalone_test.ex:49:41: Clinicpro.MPesaStandaloneTest.run_stk_push_test/0

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 125 │     case Config.get_for_clinic(_clinic_id) do
     │                                ~
     │
     └─ lib/clinicpro/mpesa_standalone_test.ex:125:32: Clinicpro.MPesaStandaloneTest.ensure_test_config/1

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 140 │           "_clinic_id" => _clinic_id
     │                           ~
     │
     └─ lib/clinicpro/mpesa_standalone_test.ex:140:27: Clinicpro.MPesaStandaloneTest.ensure_test_config/1

    warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 48 │         IO.puts("Transaction ID: #{_transaction.id}")
    │                                    ~
    │
    └─ lib/clinicpro/mpesa_test.ex:48:36: Clinicpro.MPesaTest.run_stk_push_test/0

    warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 49 │         IO.puts("Checkout Request ID: #{_transaction.checkout_request_id}")
    │                                         ~
    │
    └─ lib/clinicpro/mpesa_test.ex:49:41: Clinicpro.MPesaTest.run_stk_push_test/0

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 125 │     case Config.get_for_clinic(_clinic_id) do
     │                                ~
     │
     └─ lib/clinicpro/mpesa_test.ex:125:32: Clinicpro.MPesaTest.ensure_test_config/1

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 140 │           "_clinic_id" => _clinic_id
     │                           ~
     │
     └─ lib/clinicpro/mpesa_test.ex:140:27: Clinicpro.MPesaTest.ensure_test_config/1

    warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 66 │     _transaction
    │     ~
    │
    └─ lib/clinicpro/mpesa/transaction.ex:66:5: Clinicpro.MPesa.Transaction.update/2

    warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 88 │     if _transaction do
    │        ~
    │
    └─ lib/clinicpro/mpesa/transaction.ex:88:8: Clinicpro.MPesa.Transaction.update_request_ids/3

    warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 89 │       _transaction
    │       ~
    │
    └─ lib/clinicpro/mpesa/transaction.ex:89:7: Clinicpro.MPesa.Transaction.update_request_ids/3

     warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 132 │     if _transaction do
     │        ~
     │
     └─ lib/clinicpro/mpesa/transaction.ex:132:8: Clinicpro.MPesa.Transaction.update_status/6

     warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 133 │       _transaction
     │       ~
     │
     └─ lib/clinicpro/mpesa/transaction.ex:133:7: Clinicpro.MPesa.Transaction.update_status/6

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 43 │       _clinic_id: _clinic_id,
    │                   ~
    │
    └─ lib/clinicpro/paystack/callback.ex:43:19: Clinicpro.Paystack.Callback.process_webhook/3

    warning: variable "updated_webhook" is unused (if the variable is not meant to be used, prefix it with an underscore)
    │
 72 │         {:ok, updated_webhook} = WebhookLog.mark_as_failed(webhook_log, error_message)
    │               ~
    │
    └─ lib/clinicpro/paystack/callback.ex:72:15: Clinicpro.Paystack.Callback.process_webhook/3

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 81 │       {:ok, decoded_payload} -> process_webhook(decoded_payload, _clinic_id, signature)
    │                                                                  ~
    │
    └─ lib/clinicpro/paystack/callback.ex:81:66: Clinicpro.Paystack.Callback.process_webhook/3

     warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 122 │         WebhookLog.update(webhook_log, %{transaction_id: _transaction.id})
     │                                                          ~
     │
     └─ lib/clinicpro/paystack/callback.ex:122:58: Clinicpro.Paystack.Callback.process_event/2

     warning: variable "event_data" is unused (if the variable is not meant to be used, prefix it with an underscore)
     │
 130 │   defp process_event(%{"event" => "transfer.success"} = event_data, webhook_log) do
     │                                                         ~~~~~~~~~~
     │
     └─ lib/clinicpro/paystack/callback.ex:130:57: Clinicpro.Paystack.Callback.process_event/2

     warning: variable "webhook_log" is unused (if the variable is not meant to be used, prefix it with an underscore)
     │
 130 │   defp process_event(%{"event" => "transfer.success"} = event_data, webhook_log) do
     │                                                                     ~~~~~~~~~~~
     │
     └─ lib/clinicpro/paystack/callback.ex:130:69: Clinicpro.Paystack.Callback.process_event/2

     warning: variable "webhook_log" is unused (if the variable is not meant to be used, prefix it with an underscore)
     │
 136 │   defp process_event(%{"event" => event_type}, webhook_log) do
     │                                                ~~~~~~~~~~~
     │
     └─ lib/clinicpro/paystack/callback.ex:136:48: Clinicpro.Paystack.Callback.process_event/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 148 │     case Transaction.get_by_reference(reference, _clinic_id) do
     │                                                  ~
     │
     └─ lib/clinicpro/paystack/callback.ex:148:50: Clinicpro.Paystack.Callback.update_transaction/3

     warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 152 │         Transaction.update(_transaction, %{status: status})
     │                            ~
     │
     └─ lib/clinicpro/paystack/callback.ex:152:28: Clinicpro.Paystack.Callback.update_transaction/3

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 162 │           _clinic_id: _clinic_id
     │                       ~
     │
     └─ lib/clinicpro/paystack/callback.ex:162:23: Clinicpro.Paystack.Callback.update_transaction/3

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 169 │       _clinic_id: _clinic_id,
     │                   ~
     │
     └─ lib/clinicpro/paystack/callback.ex:169:19: Clinicpro.Paystack.Callback.create_transaction_from_webhook/3

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 195 │       [_, _clinic_id] -> String.to_integer(_clinic_id)
     │                                            ~
     │
     └─ lib/clinicpro/paystack/callback.ex:195:44: Clinicpro.Paystack.Callback.find_clinic_id_from_reference/1

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 220 │   def retry_webhook(id, _clinic_id) when is_binary(id) and is_integer(_clinic_id) do
     │                                                                       ~
     │
     └─ lib/clinicpro/paystack/callback.ex:220:71: Clinicpro.Paystack.Callback.retry_webhook/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 223 │             where: w.id == ^id and w._clinic_id == ^_clinic_id
     │                                                     ~
     │
     └─ lib/clinicpro/paystack/callback.ex:223:53: Clinicpro.Paystack.Callback.retry_webhook/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 260 │     retry_webhook(Integer.to_string(id), _clinic_id)
     │                                          ~
     │
     └─ lib/clinicpro/paystack/callback.ex:260:42: Clinicpro.Paystack.Callback.retry_webhook/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 30 │     with {:ok, secret_key} <- Config.get_secret_key(_clinic_id),
    │                                                     ~
    │
    └─ lib/clinicpro/paystack/payment.ex:30:53: Clinicpro.Paystack.Payment.initialize_transaction/6

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 31 │          {:ok, subaccount} <- get_clinic_subaccount(_clinic_id) do
    │                                                     ~
    │
    └─ lib/clinicpro/paystack/payment.ex:31:53: Clinicpro.Paystack.Payment.initialize_transaction/6

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 38 │         callback_url: get_callback_url(_clinic_id),
    │                                        ~
    │
    └─ lib/clinicpro/paystack/payment.ex:38:40: Clinicpro.Paystack.Payment.initialize_transaction/6

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 39 │         metadata: Map.merge(metadata, %{_clinic_id: _clinic_id}),
    │                                                     ~
    │
    └─ lib/clinicpro/paystack/payment.ex:39:53: Clinicpro.Paystack.Payment.initialize_transaction/6

    warning: variable "description" is unused (if the variable is not meant to be used, prefix it with an underscore)
    │
 29 │   def initialize_transaction(email, amount, reference, description, _clinic_id, metadata \\ %{}) do
    │                                                        ~~~~~~~~~~~
    │
    └─ lib/clinicpro/paystack/payment.ex:29:56: Clinicpro.Paystack.Payment.initialize_transaction/6

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 76 │     with {:ok, secret_key} <- Config.get_secret_key(_clinic_id) do
    │                                                     ~
    │
    └─ lib/clinicpro/paystack/payment.ex:76:53: Clinicpro.Paystack.Payment.verify_transaction/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 156 │     case SubAccount.get_active_subaccount(_clinic_id) do
     │                                           ~
     │
     └─ lib/clinicpro/paystack/payment.ex:156:43: Clinicpro.Paystack.Payment.get_clinic_subaccount/1

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 163 │     case Config.get_active_config(_clinic_id) do
     │                                   ~
     │
     └─ lib/clinicpro/paystack/payment.ex:163:35: Clinicpro.Paystack.Payment.get_callback_url/1

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 37 │     reference = reference || generate_reference(_clinic_id)
    │                                                 ~
    │
    └─ lib/clinicpro/paystack/paystack.ex:37:49: Clinicpro.Paystack.initialize_payment/6

    warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 40 │     callback_url = Keyword.get(_opts, :callback_url)
    │                                ~
    │
    └─ lib/clinicpro/paystack/paystack.ex:40:32: Clinicpro.Paystack.initialize_payment/6

    warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 41 │     metadata = Keyword.get(_opts, :metadata)
    │                            ~
    │
    └─ lib/clinicpro/paystack/paystack.ex:41:28: Clinicpro.Paystack.initialize_payment/6

    warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 42 │     use_subaccount = Keyword.get(_opts, :use_subaccount, false)
    │                                  ~
    │
    └─ lib/clinicpro/paystack/paystack.ex:42:34: Clinicpro.Paystack.initialize_payment/6

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 49 │       _clinic_id,
    │       ~
    │
    └─ lib/clinicpro/paystack/paystack.ex:49:7: Clinicpro.Paystack.initialize_payment/6

    warning: variable "reference" is unused (there is a variable with the same name in the context, use the pin operator (^) to match on it or prefix this variable with underscore if it is not meant to be used)
    │
 37 │     reference = reference || generate_reference(_clinic_id)
    │     ~~~~~~~~~
    │
    └─ lib/clinicpro/paystack/paystack.ex:37:5: Clinicpro.Paystack.initialize_payment/6

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 71 │     Transaction.verify_payment(reference, _clinic_id)
    │                                           ~
    │
    └─ lib/clinicpro/paystack/paystack.ex:71:43: Clinicpro.Paystack.verify_payment/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 90 │     Callback.process_webhook(payload, signature, _clinic_id)
    │                                                  ~
    │
    └─ lib/clinicpro/paystack/paystack.ex:90:50: Clinicpro.Paystack.process_webhook/3

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 106 │     Transaction.get_stats(_clinic_id)
     │                           ~
     │
     └─ lib/clinicpro/paystack/paystack.ex:106:27: Clinicpro.Paystack.get_transaction_stats/1

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 124 │     Transaction.list_by_clinic(_clinic_id, limit, offset)
     │                                ~
     │
     └─ lib/clinicpro/paystack/paystack.ex:124:32: Clinicpro.Paystack.list_transactions/3

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 193 │     Config.get_active(_clinic_id)
     │                       ~
     │
     └─ lib/clinicpro/paystack/paystack.ex:193:23: Clinicpro.Paystack.get_active_config/1

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 209 │     Config.list_by_clinic(_clinic_id)
     │                           ~
     │
     └─ lib/clinicpro/paystack/paystack.ex:209:27: Clinicpro.Paystack.list_configs/1

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 311 │     Subaccount.get_active(_clinic_id)
     │                           ~
     │
     └─ lib/clinicpro/paystack/paystack.ex:311:27: Clinicpro.Paystack.get_active_subaccount/1

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 327 │     Subaccount.list_by_clinic(_clinic_id)
     │                               ~
     │
     └─ lib/clinicpro/paystack/paystack.ex:327:31: Clinicpro.Paystack.list_subaccounts/1

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 396 │     API.list_banks(_clinic_id, country)
     │                    ~
     │
     └─ lib/clinicpro/paystack/paystack.ex:396:20: Clinicpro.Paystack.list_banks/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 404 │     "paystack_#{_clinic_id}_#{timestamp}_#{random}"
     │                 ~
     │
     └─ lib/clinicpro/paystack/paystack.ex:404:17: Clinicpro.Paystack.generate_reference/1

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 172 │     query = if _clinic_id, do: where(query, [t], t._clinic_id == ^_clinic_id), else: query
     │                ~
     │
     └─ lib/clinicpro/mpesa/transaction.ex:172:16: Clinicpro.MPesa.Transaction.get_by_checkout_request_id/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 172 │     query = if _clinic_id, do: where(query, [t], t._clinic_id == ^_clinic_id), else: query
     │                                                                   ~
     │
     └─ lib/clinicpro/mpesa/transaction.ex:172:67: Clinicpro.MPesa.Transaction.get_by_checkout_request_id/2

    warning: unused alias Transaction
    │
 11 │   alias Clinicpro.MPesa.{Config, Transaction}
    │   ~
    │
    └─ lib/clinicpro/mpesa_test.ex:11:3

     warning: function create_transaction_from_webhook/3 is unused
     │
 167 │   defp create_transaction_from_webhook(reference, _clinic_id, data) do
     │        ~
     │
     └─ lib/clinicpro/paystack/callback.ex:167:8: Clinicpro.Paystack.Callback (module)

     warning: function find_clinic_id_from_reference/1 is unused
     │
 190 │   defp find_clinic_id_from_reference(reference) do
     │        ~
     │
     └─ lib/clinicpro/paystack/callback.ex:190:8: Clinicpro.Paystack.Callback (module)

     warning: function parse_datetime/1 is unused
     │
 200 │   defp parse_datetime(nil), do: nil
     │        ~
     │
     └─ lib/clinicpro/paystack/callback.ex:200:8: Clinicpro.Paystack.Callback (module)

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 46 │     with {:ok, secret_key} <- Config.get_secret_key(_clinic_id) do
    │                                                     ~
    │
    └─ lib/clinicpro/paystack/sub_account.ex:46:53: Clinicpro.Paystack.SubAccount.create/5

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 122 │     with {:ok, secret_key} <- Config.get_secret_key(_clinic_id) do
     │                                                     ~
     │
     └─ lib/clinicpro/paystack/sub_account.ex:122:53: Clinicpro.Paystack.SubAccount.update_on_paystack/3

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 166 │     case Repo.get_by(SubAccount, _clinic_id: _clinic_id, active: true) do
     │                                              ~
     │
     └─ lib/clinicpro/paystack/sub_account.ex:166:46: Clinicpro.Paystack.SubAccount.get_active_subaccount/1

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 198 │     |> where(_clinic_id: ^_clinic_id)
     │                           ~
     │
     └─ lib/clinicpro/paystack/sub_account.ex:198:27: Clinicpro.Paystack.SubAccount.list_subaccounts/1

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 116 │     case Repo.one(from c in Config, where: c._clinic_id == ^_clinic_id and c.active == true) do
     │                                                             ~
     │
     └─ lib/clinicpro/paystack/config.ex:116:61: Clinicpro.Paystack.Config.get_active/1

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 191 │     query = if _clinic_id, do: where(query, [t], t._clinic_id == ^_clinic_id), else: query
     │                ~
     │
     └─ lib/clinicpro/mpesa/transaction.ex:191:16: Clinicpro.MPesa.Transaction.get_by_merchant_request_id/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 191 │     query = if _clinic_id, do: where(query, [t], t._clinic_id == ^_clinic_id), else: query
     │                                                                   ~
     │
     └─ lib/clinicpro/mpesa/transaction.ex:191:67: Clinicpro.MPesa.Transaction.get_by_merchant_request_id/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 209 │     Repo.get_by(Transaction, reference: reference, _clinic_id: _clinic_id)
     │                                                                ~
     │
     └─ lib/clinicpro/mpesa/transaction.ex:209:64: Clinicpro.MPesa.Transaction.get_by_reference_and_clinic/2

     warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 225 │     limit = Map.get(_opts, :limit)
     │                     ~
     │
     └─ lib/clinicpro/mpesa/transaction.ex:225:21: Clinicpro.MPesa.Transaction.list_by_clinic/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 228 │     |> where(_clinic_id: ^_clinic_id)
     │                           ~
     │
     └─ lib/clinicpro/mpesa/transaction.ex:228:27: Clinicpro.MPesa.Transaction.list_by_clinic/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 253 │     query = if _clinic_id do
     │                ~
     │
     └─ lib/clinicpro/mpesa/transaction.ex:253:16: Clinicpro.MPesa.Transaction.list_by_invoice/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 254 │       query |> where(_clinic_id: ^_clinic_id)
     │                                   ~
     │
     └─ lib/clinicpro/mpesa/transaction.ex:254:35: Clinicpro.MPesa.Transaction.list_by_invoice/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 277 │     |> where(_clinic_id: ^_clinic_id)
     │                           ~
     │
     └─ lib/clinicpro/mpesa/transaction.ex:277:27: Clinicpro.MPesa.Transaction.list_by_patient/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 297 │     |> where(_clinic_id: ^_clinic_id)
     │                           ~
     │
     └─ lib/clinicpro/mpesa/transaction.ex:297:27: Clinicpro.MPesa.Transaction.list_by_status/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 317 │     |> where(_clinic_id: ^_clinic_id)
     │                           ~
     │
     └─ lib/clinicpro/mpesa/transaction.ex:317:27: Clinicpro.MPesa.Transaction.list_by_date_range/3

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 338 │     Repo.get_by(Transaction, id: id, _clinic_id: _clinic_id)
     │                                                  ~
     │
     └─ lib/clinicpro/mpesa/transaction.ex:338:50: Clinicpro.MPesa.Transaction.get_by_id_and_clinic/2

    warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 68 │     _transaction
    │     ~
    │
    └─ lib/clinicpro/paystack/transaction.ex:68:5: Clinicpro.Paystack.Transaction.update/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 103 │     Repo.get_by(Transaction, reference: reference, _clinic_id: _clinic_id)
     │                                                                ~
     │
     └─ lib/clinicpro/paystack/transaction.ex:103:64: Clinicpro.Paystack.Transaction.get_by_reference/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 120 │     Repo.get_by(Transaction, paystack_reference: paystack_reference, _clinic_id: _clinic_id)
     │                                                                                  ~
     │
     └─ lib/clinicpro/paystack/transaction.ex:120:82: Clinicpro.Paystack.Transaction.get_by_paystack_reference/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 149 │     |> where(_clinic_id: ^_clinic_id)
     │                           ~
     │
     └─ lib/clinicpro/paystack/transaction.ex:149:27: Clinicpro.Paystack.Transaction.list_transactions/1

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 186 │     |> where(_clinic_id: ^_clinic_id, status: ^status)
     │                           ~
     │
     └─ lib/clinicpro/paystack/transaction.ex:186:27: Clinicpro.Paystack.Transaction.list_transactions_by_status/2

    warning: unused alias Config
    │
  9 │   alias Clinicpro.Paystack.{Config, Transaction, WebhookLog}
    │   ~
    │
    └─ lib/clinicpro/paystack/callback.ex:9:3

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 135 │     Repo.all(from c in Config, where: c._clinic_id == ^_clinic_id, order_by: [desc: c.active, desc: c.inserted_at])
     │                                                        ~
     │
     └─ lib/clinicpro/paystack/config.ex:135:56: Clinicpro.Paystack.Config.list_by_clinic/1

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 356 │     query = if _clinic_id, do: where(query, [t], t._clinic_id == ^_clinic_id), else: query
     │                ~
     │
     └─ lib/clinicpro/mpesa/transaction.ex:356:16: Clinicpro.MPesa.Transaction.get_by_transaction_id/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 356 │     query = if _clinic_id, do: where(query, [t], t._clinic_id == ^_clinic_id), else: query
     │                                                                   ~
     │
     └─ lib/clinicpro/mpesa/transaction.ex:356:67: Clinicpro.MPesa.Transaction.get_by_transaction_id/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 223 │         deactivate_all_for_clinic(_clinic_id)
     │                                   ~
     │
     └─ lib/clinicpro/paystack/config.ex:223:35: Clinicpro.Paystack.Config.maybe_deactivate_other_configs/1

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 373 │     |> where(_clinic_id: ^_clinic_id)
     │                           ~
     │
     └─ lib/clinicpro/mpesa/transaction.ex:373:27: Clinicpro.MPesa.Transaction.count_by_clinic/1

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 391 │     |> where(_clinic_id: ^_clinic_id)
     │                           ~
     │
     └─ lib/clinicpro/mpesa/transaction.ex:391:27: Clinicpro.MPesa.Transaction.count_by_clinic_and_status/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 410 │     |> where(_clinic_id: ^_clinic_id)
     │                           ~
     │
     └─ lib/clinicpro/mpesa/transaction.ex:410:27: Clinicpro.MPesa.Transaction.sum_amount_by_clinic_and_status/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 433 │     |> where(_clinic_id: ^_clinic_id)
     │                           ~
     │
     └─ lib/clinicpro/mpesa/transaction.ex:433:27: Clinicpro.MPesa.Transaction.paginate_by_clinic/4

     warning: the underscored variable "_per_page" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 439 │     total_pages = ceil(total_count / _per_page)
     │                                      ~
     │
     └─ lib/clinicpro/mpesa/transaction.ex:439:38: Clinicpro.MPesa.Transaction.paginate_by_clinic/4

     warning: the underscored variable "_per_page" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 443 │     |> limit(^_per_page)
     │               ~
     │
     └─ lib/clinicpro/mpesa/transaction.ex:443:15: Clinicpro.MPesa.Transaction.paginate_by_clinic/4

     warning: the underscored variable "_page" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 444 │     |> offset(^((_page - 1) * _per_page))
     │                  ~
     │
     └─ lib/clinicpro/mpesa/transaction.ex:444:18: Clinicpro.MPesa.Transaction.paginate_by_clinic/4

     warning: the underscored variable "_per_page" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 444 │     |> offset(^((_page - 1) * _per_page))
     │                               ~
     │
     └─ lib/clinicpro/mpesa/transaction.ex:444:31: Clinicpro.MPesa.Transaction.paginate_by_clinic/4

     warning: the underscored variable "_page" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 449 │       _page: _page,
     │              ~
     │
     └─ lib/clinicpro/mpesa/transaction.ex:449:14: Clinicpro.MPesa.Transaction.paginate_by_clinic/4

     warning: the underscored variable "_per_page" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 450 │       _per_page: _per_page,
     │                  ~
     │
     └─ lib/clinicpro/mpesa/transaction.ex:450:18: Clinicpro.MPesa.Transaction.paginate_by_clinic/4

     warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 459 │     _transaction
     │     ~
     │
     └─ lib/clinicpro/mpesa/transaction.ex:459:5: Clinicpro.MPesa.Transaction.changeset/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 150 │     case Repo.one(from s in Subaccount, where: s._clinic_id == ^_clinic_id and s.active == true) do
     │                                                                 ~
     │
     └─ lib/clinicpro/paystack/subaccount.ex:150:65: Clinicpro.Paystack.Subaccount.get_active/1

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 205 │       where: t._clinic_id == ^_clinic_id,
     │                               ~
     │
     └─ lib/clinicpro/paystack/transaction.ex:205:31: Clinicpro.Paystack.Transaction.get_statistics/1

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 232 │     from(c in Config, where: c._clinic_id == ^_clinic_id)
     │                                               ~
     │
     └─ lib/clinicpro/paystack/config.ex:232:47: Clinicpro.Paystack.Config.deactivate_all_for_clinic/1

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 171 │         where: s._clinic_id == ^_clinic_id,
     │                                 ~
     │
     └─ lib/clinicpro/paystack/subaccount.ex:171:33: Clinicpro.Paystack.Subaccount.list_by_clinic/1

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 213 │       where: t._clinic_id == ^_clinic_id and t.status == "completed",
     │                               ~
     │
     └─ lib/clinicpro/paystack/transaction.ex:213:31: Clinicpro.Paystack.Transaction.get_statistics/1

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 246 │         deactivate_all_for_clinic(_clinic_id)
     │                                   ~
     │
     └─ lib/clinicpro/paystack/subaccount.ex:246:35: Clinicpro.Paystack.Subaccount.maybe_deactivate_other_subaccounts/1

     warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 233 │     _transaction
     │     ~
     │
     └─ lib/clinicpro/paystack/transaction.ex:233:5: Clinicpro.Paystack.Transaction.changeset/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 73 │     if _clinic_id do
    │        ~
    │
    └─ lib/clinicpro/virtual_meetings/adapter.ex:73:8: Clinicpro.VirtualMeetings.Adapter.get_adapter/1

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 74 │       case Config.get_clinic_config(_clinic_id) do
    │                                     ~
    │
    └─ lib/clinicpro/virtual_meetings/adapter.ex:74:37: Clinicpro.VirtualMeetings.Adapter.get_adapter/1

    warning: defp get_adapter/1 is private, @doc attribute is always discarded for private functions/macros/types
    │
 60 │   @doc """
    │   ~~~~~~~~
    │
    └─ lib/clinicpro/virtual_meetings/adapter.ex:60: Clinicpro.VirtualMeetings.Adapter.get_adapter/1

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 105 │     adapter = get_adapter(_clinic_id)
     │                           ~
     │
     └─ lib/clinicpro/virtual_meetings/adapter.ex:105:27: Clinicpro.VirtualMeetings.Adapter.create_meeting/3

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 106 │     adapter.create_meeting(_appointment, _opts)
     │                            ~
     │
     └─ lib/clinicpro/virtual_meetings/adapter.ex:106:28: Clinicpro.VirtualMeetings.Adapter.create_meeting/3

     warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 106 │     adapter.create_meeting(_appointment, _opts)
     │                                          ~
     │
     └─ lib/clinicpro/virtual_meetings/adapter.ex:106:42: Clinicpro.VirtualMeetings.Adapter.create_meeting/3

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 124 │     adapter = get_adapter(_clinic_id)
     │                           ~
     │
     └─ lib/clinicpro/virtual_meetings/adapter.ex:124:27: Clinicpro.VirtualMeetings.Adapter.update_meeting/3

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 125 │     adapter.update_meeting(_appointment, _opts)
     │                            ~
     │
     └─ lib/clinicpro/virtual_meetings/adapter.ex:125:28: Clinicpro.VirtualMeetings.Adapter.update_meeting/3

     warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 125 │     adapter.update_meeting(_appointment, _opts)
     │                                          ~
     │
     └─ lib/clinicpro/virtual_meetings/adapter.ex:125:42: Clinicpro.VirtualMeetings.Adapter.update_meeting/3

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 142 │     adapter = get_adapter(_clinic_id)
     │                           ~
     │
     └─ lib/clinicpro/virtual_meetings/adapter.ex:142:27: Clinicpro.VirtualMeetings.Adapter.delete_meeting/2

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 143 │     adapter.delete_meeting(_appointment)
     │                            ~
     │
     └─ lib/clinicpro/virtual_meetings/adapter.ex:143:28: Clinicpro.VirtualMeetings.Adapter.delete_meeting/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 27 │     case Repo.get(Clinic, _clinic_id) do
    │                           ~
    │
    └─ lib/clinicpro/virtual_meetings/config.ex:27:27: Clinicpro.VirtualMeetings.Config.get_clinic_config/1

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 191 │     case Repo.get(Clinic, _clinic_id) do
     │                           ~
     │
     └─ lib/clinicpro/virtual_meetings/config.ex:191:27: Clinicpro.VirtualMeetings.Config.set_clinic_config/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 216 │     case get_clinic_config(_clinic_id) do
     │                            ~
     │
     └─ lib/clinicpro/virtual_meetings/config.ex:216:28: Clinicpro.VirtualMeetings.Config.set_clinic_adapter/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 219 │         set_clinic_config(_clinic_id, updated_config)
     │                           ~
     │
     └─ lib/clinicpro/virtual_meetings/config.ex:219:27: Clinicpro.VirtualMeetings.Config.set_clinic_adapter/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 239 │     case get_clinic_config(_clinic_id) do
     │                            ~
     │
     └─ lib/clinicpro/virtual_meetings/config.ex:239:28: Clinicpro.VirtualMeetings.Config.set_clinic_base_url/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 242 │         set_clinic_config(_clinic_id, updated_config)
     │                           ~
     │
     └─ lib/clinicpro/virtual_meetings/config.ex:242:27: Clinicpro.VirtualMeetings.Config.set_clinic_base_url/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 262 │     case get_clinic_config(_clinic_id) do
     │                            ~
     │
     └─ lib/clinicpro/virtual_meetings/config.ex:262:28: Clinicpro.VirtualMeetings.Config.set_clinic_google_api_credentials/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 265 │         set_clinic_config(_clinic_id, updated_config)
     │                           ~
     │
     └─ lib/clinicpro/virtual_meetings/config.ex:265:27: Clinicpro.VirtualMeetings.Config.set_clinic_google_api_credentials/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 285 │     case get_clinic_config(_clinic_id) do
     │                            ~
     │
     └─ lib/clinicpro/virtual_meetings/config.ex:285:28: Clinicpro.VirtualMeetings.Config.set_clinic_zoom_api_credentials/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 288 │         set_clinic_config(_clinic_id, updated_config)
     │                           ~
     │
     └─ lib/clinicpro/virtual_meetings/config.ex:288:27: Clinicpro.VirtualMeetings.Config.set_clinic_zoom_api_credentials/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 256 │     from(s in Subaccount, where: s._clinic_id == ^_clinic_id)
     │                                                   ~
     │
     └─ lib/clinicpro/paystack/subaccount.ex:256:51: Clinicpro.Paystack.Subaccount.deactivate_all_for_clinic/1

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 83 │             where: w.id == ^id and w._clinic_id == ^_clinic_id
    │                                                     ~
    │
    └─ lib/clinicpro/paystack/webhook_log.ex:83:53: Clinicpro.Paystack.WebhookLog.get/2

    warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 37 │     _clinic_id = _appointment._clinic_id
    │                  ~
    │
    └─ lib/clinicpro/virtual_meetings/custom_zoom_adapter.ex:37:18: Clinicpro.VirtualMeetings.CustomZoomAdapter.create_meeting/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 40 │     case get_access_token(_clinic_id) do
    │                           ~
    │
    └─ lib/clinicpro/virtual_meetings/custom_zoom_adapter.ex:40:27: Clinicpro.VirtualMeetings.CustomZoomAdapter.create_meeting/2

    warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 43 │         create_zoom_meeting(token, _appointment, _opts)
    │                                    ~
    │
    └─ lib/clinicpro/virtual_meetings/custom_zoom_adapter.ex:43:36: Clinicpro.VirtualMeetings.CustomZoomAdapter.create_meeting/2

    warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 43 │         create_zoom_meeting(token, _appointment, _opts)
    │                                                  ~
    │
    └─ lib/clinicpro/virtual_meetings/custom_zoom_adapter.ex:43:50: Clinicpro.VirtualMeetings.CustomZoomAdapter.create_meeting/2

    warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 68 │     _clinic_id = _appointment._clinic_id
    │                  ~
    │
    └─ lib/clinicpro/virtual_meetings/custom_zoom_adapter.ex:68:18: Clinicpro.VirtualMeetings.CustomZoomAdapter.update_meeting/3

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 71 │     case get_access_token(_clinic_id) do
    │                           ~
    │
    └─ lib/clinicpro/virtual_meetings/custom_zoom_adapter.ex:71:27: Clinicpro.VirtualMeetings.CustomZoomAdapter.update_meeting/3

    warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 74 │         update_zoom_meeting(token, _appointment, meeting_data, _opts)
    │                                    ~
    │
    └─ lib/clinicpro/virtual_meetings/custom_zoom_adapter.ex:74:36: Clinicpro.VirtualMeetings.CustomZoomAdapter.update_meeting/3

    warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 74 │         update_zoom_meeting(token, _appointment, meeting_data, _opts)
    │                                                                ~
    │
    └─ lib/clinicpro/virtual_meetings/custom_zoom_adapter.ex:74:64: Clinicpro.VirtualMeetings.CustomZoomAdapter.update_meeting/3

    warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 99 │     _clinic_id = _appointment._clinic_id
    │                  ~
    │
    └─ lib/clinicpro/virtual_meetings/custom_zoom_adapter.ex:99:18: Clinicpro.VirtualMeetings.CustomZoomAdapter.delete_meeting/3

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 102 │     case get_access_token(_clinic_id) do
     │                           ~
     │
     └─ lib/clinicpro/virtual_meetings/custom_zoom_adapter.ex:102:27: Clinicpro.VirtualMeetings.CustomZoomAdapter.delete_meeting/3

     warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 105 │         delete_zoom_meeting(token, meeting_data, _opts)
     │                                                  ~
     │
     └─ lib/clinicpro/virtual_meetings/custom_zoom_adapter.ex:105:50: Clinicpro.VirtualMeetings.CustomZoomAdapter.delete_meeting/3

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 118 │     case get_zoom_credentials(_clinic_id) do
     │                               ~
     │
     └─ lib/clinicpro/virtual_meetings/custom_zoom_adapter.ex:118:31: Clinicpro.VirtualMeetings.CustomZoomAdapter.get_access_token/1

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 139 │       client_id: "clinic_#{_clinic_id}_client_id",
     │                            ~
     │
     └─ lib/clinicpro/virtual_meetings/custom_zoom_adapter.ex:139:28: Clinicpro.VirtualMeetings.CustomZoomAdapter.get_zoom_credentials/1

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 140 │       client_secret: "clinic_#{_clinic_id}_client_secret",
     │                                ~
     │
     └─ lib/clinicpro/virtual_meetings/custom_zoom_adapter.ex:140:32: Clinicpro.VirtualMeetings.CustomZoomAdapter.get_zoom_credentials/1

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 141 │       account_id: "clinic_#{_clinic_id}_account_id"
     │                             ~
     │
     └─ lib/clinicpro/virtual_meetings/custom_zoom_adapter.ex:141:29: Clinicpro.VirtualMeetings.CustomZoomAdapter.get_zoom_credentials/1

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 192 │     start_time = format_appointment_time(_appointment)
     │                                          ~
     │
     └─ lib/clinicpro/virtual_meetings/custom_zoom_adapter.ex:192:42: Clinicpro.VirtualMeetings.CustomZoomAdapter.create_zoom_meeting/3

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 196 │       topic: "Appointment with Dr. #{get_doctor_name(_appointment)}",
     │                                                      ~
     │
     └─ lib/clinicpro/virtual_meetings/custom_zoom_adapter.ex:196:54: Clinicpro.VirtualMeetings.CustomZoomAdapter.create_zoom_meeting/3

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 199 │       duration: _appointment.duration,
     │                 ~
     │
     └─ lib/clinicpro/virtual_meetings/custom_zoom_adapter.ex:199:17: Clinicpro.VirtualMeetings.CustomZoomAdapter.create_zoom_meeting/3

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 257 │       start_time = format_appointment_time(_appointment)
     │                                            ~
     │
     └─ lib/clinicpro/virtual_meetings/custom_zoom_adapter.ex:257:44: Clinicpro.VirtualMeetings.CustomZoomAdapter.update_zoom_meeting/4

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 261 │         topic: "Appointment with Dr. #{get_doctor_name(_appointment)}",
     │                                                        ~
     │
     └─ lib/clinicpro/virtual_meetings/custom_zoom_adapter.ex:261:56: Clinicpro.VirtualMeetings.CustomZoomAdapter.update_zoom_meeting/4

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 264 │         duration: _appointment.duration,
     │                   ~
     │
     └─ lib/clinicpro/virtual_meetings/custom_zoom_adapter.ex:264:19: Clinicpro.VirtualMeetings.CustomZoomAdapter.update_zoom_meeting/4

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 337 │       _appointment.appointment_date,
     │       ~
     │
     └─ lib/clinicpro/virtual_meetings/custom_zoom_adapter.ex:337:7: Clinicpro.VirtualMeetings.CustomZoomAdapter.format_appointment_time/1

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 338 │       _appointment.appointment_time
     │       ~
     │
     └─ lib/clinicpro/virtual_meetings/custom_zoom_adapter.ex:338:7: Clinicpro.VirtualMeetings.CustomZoomAdapter.format_appointment_time/1

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 351 │     "Doctor (ID: #{_appointment.doctor_id})"
     │                    ~
     │
     └─ lib/clinicpro/virtual_meetings/custom_zoom_adapter.ex:351:20: Clinicpro.VirtualMeetings.CustomZoomAdapter.get_doctor_name/1

    warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 31 │     url = "#{base_url}/#{_appointment.id}/#{token}"
    │                          ~
    │
    └─ lib/clinicpro/virtual_meetings/simple_adapter.ex:31:26: Clinicpro.VirtualMeetings.SimpleAdapter.create_meeting/2

    warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 36 │       meeting_id: "simple-#{_appointment.id}-#{token}",
    │                             ~
    │
    └─ lib/clinicpro/virtual_meetings/simple_adapter.ex:36:29: Clinicpro.VirtualMeetings.SimpleAdapter.create_meeting/2

    warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 57 │     create_meeting(_appointment, _opts)
    │                    ~
    │
    └─ lib/clinicpro/virtual_meetings/simple_adapter.ex:57:20: Clinicpro.VirtualMeetings.SimpleAdapter.update_meeting/2

    warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 57 │     create_meeting(_appointment, _opts)
    │                                  ~
    │
    └─ lib/clinicpro/virtual_meetings/simple_adapter.ex:57:34: Clinicpro.VirtualMeetings.SimpleAdapter.update_meeting/2

    warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 33 │     with {:ok, _appointment} <- get_appointment_with_associations(_appointment),
    │                                                                   ~
    │
    └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:33:67: Clinicpro.VirtualMeetings.GoogleMeetAdapter.create_meeting/2

    warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 35 │          {:ok, event} <- create_calendar_event(client, _appointment, _opts) do
    │                                                        ~
    │
    └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:35:56: Clinicpro.VirtualMeetings.GoogleMeetAdapter.create_meeting/2

    warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 35 │          {:ok, event} <- create_calendar_event(client, _appointment, _opts) do
    │                                                                      ~
    │
    └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:35:70: Clinicpro.VirtualMeetings.GoogleMeetAdapter.create_meeting/2

    warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 45 │         calendar_id: get_calendar_id(_opts)
    │                                      ~
    │
    └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:45:38: Clinicpro.VirtualMeetings.GoogleMeetAdapter.create_meeting/2

    warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 75 │     with {:ok, _appointment} <- get_appointment_with_associations(_appointment),
    │                                                                   ~
    │
    └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:75:67: Clinicpro.VirtualMeetings.GoogleMeetAdapter.update_meeting/2

    warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 77 │          meeting_data <- extract_meeting_data(_appointment),
    │                                               ~
    │
    └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:77:47: Clinicpro.VirtualMeetings.GoogleMeetAdapter.update_meeting/2

    warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 78 │          {:ok, event} <- update_calendar_event(client, _appointment, meeting_data, _opts) do
    │                                                        ~
    │
    └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:78:56: Clinicpro.VirtualMeetings.GoogleMeetAdapter.update_meeting/2

    warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 78 │          {:ok, event} <- update_calendar_event(client, _appointment, meeting_data, _opts) do
    │                                                                                    ~
    │
    └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:78:84: Clinicpro.VirtualMeetings.GoogleMeetAdapter.update_meeting/2

    warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 87 │         calendar_id: meeting_data[:calendar_id] || get_calendar_id(_opts)
    │                                                                    ~
    │
    └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:87:68: Clinicpro.VirtualMeetings.GoogleMeetAdapter.update_meeting/2

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 117 │     with {:ok, _appointment} <- get_appointment_with_associations(_appointment),
     │                                                                   ~
     │
     └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:117:67: Clinicpro.VirtualMeetings.GoogleMeetAdapter.delete_meeting/2

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 119 │          meeting_data <- extract_meeting_data(_appointment),
     │                                               ~
     │
     └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:119:47: Clinicpro.VirtualMeetings.GoogleMeetAdapter.delete_meeting/2

     warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 120 │          {:ok, _response} <- delete_calendar_event(client, meeting_data, _opts) do
     │                                                                          ~
     │
     └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:120:74: Clinicpro.VirtualMeetings.GoogleMeetAdapter.delete_meeting/2

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 136 │     _appointment = Repo.preload(_appointment, [:patient, :doctor, :clinic])
     │                                 ~
     │
     └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:136:33: Clinicpro.VirtualMeetings.GoogleMeetAdapter.get_appointment_with_associations/1

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 137 │     {:ok, _appointment}
     │           ~
     │
     └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:137:11: Clinicpro.VirtualMeetings.GoogleMeetAdapter.get_appointment_with_associations/1

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 142 │       {:ok, _appointment} -> get_appointment_with_associations(_appointment)
     │                                                                ~
     │
     └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:142:64: Clinicpro.VirtualMeetings.GoogleMeetAdapter.get_appointment_with_associations/1

     warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 184 │     calendar_id = get_calendar_id(_opts)
     │                                   ~
     │
     └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:184:35: Clinicpro.VirtualMeetings.GoogleMeetAdapter.create_calendar_event/3

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 187 │     summary = format_event_summary(_appointment)
     │                                    ~
     │
     └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:187:36: Clinicpro.VirtualMeetings.GoogleMeetAdapter.create_calendar_event/3

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 188 │     description = format_event_description(_appointment)
     │                                            ~
     │
     └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:188:44: Clinicpro.VirtualMeetings.GoogleMeetAdapter.create_calendar_event/3

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 189 │     start_time = format_event_start_time(_appointment)
     │                                          ~
     │
     └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:189:42: Clinicpro.VirtualMeetings.GoogleMeetAdapter.create_calendar_event/3

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 190 │     end_time = format_event_end_time(_appointment)
     │                                      ~
     │
     └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:190:38: Clinicpro.VirtualMeetings.GoogleMeetAdapter.create_calendar_event/3

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 206 │           requestId: "#{_appointment.id}-#{:os.system_time(:millisecond)}",
     │                         ~
     │
     └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:206:25: Clinicpro.VirtualMeetings.GoogleMeetAdapter.create_calendar_event/3

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 213 │         %{email: _appointment.patient.email},
     │                  ~
     │
     └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:213:18: Clinicpro.VirtualMeetings.GoogleMeetAdapter.create_calendar_event/3

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 214 │         %{email: _appointment.clinic.email}
     │                  ~
     │
     └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:214:18: Clinicpro.VirtualMeetings.GoogleMeetAdapter.create_calendar_event/3

     warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 227 │     calendar_id = meeting_data[:calendar_id] || get_calendar_id(_opts)
     │                                                                 ~
     │
     └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:227:65: Clinicpro.VirtualMeetings.GoogleMeetAdapter.update_calendar_event/4

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 237 │           summary = format_event_summary(_appointment)
     │                                          ~
     │
     └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:237:42: Clinicpro.VirtualMeetings.GoogleMeetAdapter.update_calendar_event/4

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 238 │           description = format_event_description(_appointment)
     │                                                  ~
     │
     └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:238:50: Clinicpro.VirtualMeetings.GoogleMeetAdapter.update_calendar_event/4

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 239 │           start_time = format_event_start_time(_appointment)
     │                                                ~
     │
     └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:239:48: Clinicpro.VirtualMeetings.GoogleMeetAdapter.update_calendar_event/4

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 240 │           end_time = format_event_end_time(_appointment)
     │                                            ~
     │
     └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:240:44: Clinicpro.VirtualMeetings.GoogleMeetAdapter.update_calendar_event/4

     warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 268 │     calendar_id = meeting_data[:calendar_id] || get_calendar_id(_opts)
     │                                                                 ~
     │
     └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:268:65: Clinicpro.VirtualMeetings.GoogleMeetAdapter.delete_calendar_event/3

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 279 │     case _appointment.meeting_data do
     │          ~
     │
     └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:279:10: Clinicpro.VirtualMeetings.GoogleMeetAdapter.extract_meeting_data/1

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 287 │     patient_name = "#{_appointment.patient.first_name} #{_appointment.patient.last_name}"
     │                       ~
     │
     └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:287:23: Clinicpro.VirtualMeetings.GoogleMeetAdapter.format_event_summary/1

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 287 │     patient_name = "#{_appointment.patient.first_name} #{_appointment.patient.last_name}"
     │                                                          ~
     │
     └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:287:58: Clinicpro.VirtualMeetings.GoogleMeetAdapter.format_event_summary/1

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 288 │     doctor_name = "#{_appointment.doctor.first_name} #{_appointment.doctor.last_name}"
     │                      ~
     │
     └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:288:22: Clinicpro.VirtualMeetings.GoogleMeetAdapter.format_event_summary/1

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 288 │     doctor_name = "#{_appointment.doctor.first_name} #{_appointment.doctor.last_name}"
     │                                                        ~
     │
     └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:288:56: Clinicpro.VirtualMeetings.GoogleMeetAdapter.format_event_summary/1

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 297 │     Patient: #{_appointment.patient.first_name} #{_appointment.patient.last_name}
     │                ~
     │
     └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:297:16: Clinicpro.VirtualMeetings.GoogleMeetAdapter.format_event_description/1

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 297 │     Patient: #{_appointment.patient.first_name} #{_appointment.patient.last_name}
     │                                                   ~
     │
     └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:297:51: Clinicpro.VirtualMeetings.GoogleMeetAdapter.format_event_description/1

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 298 │     Doctor: #{_appointment.doctor.first_name} #{_appointment.doctor.last_name}
     │               ~
     │
     └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:298:15: Clinicpro.VirtualMeetings.GoogleMeetAdapter.format_event_description/1

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 298 │     Doctor: #{_appointment.doctor.first_name} #{_appointment.doctor.last_name}
     │                                                 ~
     │
     └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:298:49: Clinicpro.VirtualMeetings.GoogleMeetAdapter.format_event_description/1

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 299 │     Clinic: #{_appointment.clinic.name}
     │               ~
     │
     └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:299:15: Clinicpro.VirtualMeetings.GoogleMeetAdapter.format_event_description/1

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 300 │     Date: #{Calendar.strftime(_appointment.appointment_date, "%B %d, %Y")}
     │                               ~
     │
     └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:300:31: Clinicpro.VirtualMeetings.GoogleMeetAdapter.format_event_description/1

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 301 │     Time: #{Calendar.strftime(_appointment.appointment_time, "%H:%M")}
     │                               ~
     │
     └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:301:31: Clinicpro.VirtualMeetings.GoogleMeetAdapter.format_event_description/1

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 302 │     Duration: #{_appointment.duration} minutes
     │                 ~
     │
     └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:302:17: Clinicpro.VirtualMeetings.GoogleMeetAdapter.format_event_description/1

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 310 │       _appointment.appointment_date,
     │       ~
     │
     └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:310:7: Clinicpro.VirtualMeetings.GoogleMeetAdapter.format_event_start_time/1

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 311 │       _appointment.appointment_time
     │       ~
     │
     └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:311:7: Clinicpro.VirtualMeetings.GoogleMeetAdapter.format_event_start_time/1

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 321 │       _appointment.appointment_date,
     │       ~
     │
     └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:321:7: Clinicpro.VirtualMeetings.GoogleMeetAdapter.format_event_end_time/1

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 322 │       _appointment.appointment_time
     │       ~
     │
     └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:322:7: Clinicpro.VirtualMeetings.GoogleMeetAdapter.format_event_end_time/1

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 326 │     end_naive_datetime = NaiveDateTime.add(naive_datetime, _appointment.duration * 60, :second)
     │                                                            ~
     │
     └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:326:60: Clinicpro.VirtualMeetings.GoogleMeetAdapter.format_event_end_time/1

     warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 335 │     case Keyword.get(_opts, :calendar_id) do
     │                      ~
     │
     └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:335:22: Clinicpro.VirtualMeetings.GoogleMeetAdapter.get_calendar_id/1

    warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 34 │     with {:ok, _appointment} <- get_appointment_with_associations(_appointment),
    │                                                                   ~
    │
    └─ lib/clinicpro/virtual_meetings/zoom_adapter.ex:34:67: Clinicpro.VirtualMeetings.ZoomAdapter.create_meeting/2

    warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 35 │          {:ok, token} <- get_access_token(_appointment._clinic_id),
    │                                           ~
    │
    └─ lib/clinicpro/virtual_meetings/zoom_adapter.ex:35:43: Clinicpro.VirtualMeetings.ZoomAdapter.create_meeting/2

    warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 36 │          {:ok, meeting} <- create_zoom_meeting(token, _appointment, _opts) do
    │                                                       ~
    │
    └─ lib/clinicpro/virtual_meetings/zoom_adapter.ex:36:55: Clinicpro.VirtualMeetings.ZoomAdapter.create_meeting/2

    warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 36 │          {:ok, meeting} <- create_zoom_meeting(token, _appointment, _opts) do
    │                                                                     ~
    │
    └─ lib/clinicpro/virtual_meetings/zoom_adapter.ex:36:69: Clinicpro.VirtualMeetings.ZoomAdapter.create_meeting/2

    warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 77 │     with {:ok, _appointment} <- get_appointment_with_associations(_appointment),
    │                                                                   ~
    │
    └─ lib/clinicpro/virtual_meetings/zoom_adapter.ex:77:67: Clinicpro.VirtualMeetings.ZoomAdapter.update_meeting/2

    warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 78 │          meeting_data <- extract_meeting_data(_appointment),
    │                                               ~
    │
    └─ lib/clinicpro/virtual_meetings/zoom_adapter.ex:78:47: Clinicpro.VirtualMeetings.ZoomAdapter.update_meeting/2

    warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 79 │          {:ok, token} <- get_access_token(_appointment._clinic_id),
    │                                           ~
    │
    └─ lib/clinicpro/virtual_meetings/zoom_adapter.ex:79:43: Clinicpro.VirtualMeetings.ZoomAdapter.update_meeting/2

    warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 80 │          {:ok, meeting} <- update_zoom_meeting(token, _appointment, meeting_data, _opts) do
    │                                                       ~
    │
    └─ lib/clinicpro/virtual_meetings/zoom_adapter.ex:80:55: Clinicpro.VirtualMeetings.ZoomAdapter.update_meeting/2

    warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 80 │          {:ok, meeting} <- update_zoom_meeting(token, _appointment, meeting_data, _opts) do
    │                                                                                   ~
    │
    └─ lib/clinicpro/virtual_meetings/zoom_adapter.ex:80:83: Clinicpro.VirtualMeetings.ZoomAdapter.update_meeting/2

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 120 │     with {:ok, _appointment} <- get_appointment_with_associations(_appointment),
     │                                                                   ~
     │
     └─ lib/clinicpro/virtual_meetings/zoom_adapter.ex:120:67: Clinicpro.VirtualMeetings.ZoomAdapter.delete_meeting/2

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 121 │          meeting_data <- extract_meeting_data(_appointment),
     │                                               ~
     │
     └─ lib/clinicpro/virtual_meetings/zoom_adapter.ex:121:47: Clinicpro.VirtualMeetings.ZoomAdapter.delete_meeting/2

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 122 │          {:ok, token} <- get_access_token(_appointment._clinic_id),
     │                                           ~
     │
     └─ lib/clinicpro/virtual_meetings/zoom_adapter.ex:122:43: Clinicpro.VirtualMeetings.ZoomAdapter.delete_meeting/2

     warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 123 │          {:ok, _response} <- delete_zoom_meeting(token, meeting_data, _opts) do
     │                                                                       ~
     │
     └─ lib/clinicpro/virtual_meetings/zoom_adapter.ex:123:71: Clinicpro.VirtualMeetings.ZoomAdapter.delete_meeting/2

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 139 │     _appointment = Repo.preload(_appointment, [:patient, :doctor, :clinic])
     │                                 ~
     │
     └─ lib/clinicpro/virtual_meetings/zoom_adapter.ex:139:33: Clinicpro.VirtualMeetings.ZoomAdapter.get_appointment_with_associations/1

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 140 │     {:ok, _appointment}
     │           ~
     │
     └─ lib/clinicpro/virtual_meetings/zoom_adapter.ex:140:11: Clinicpro.VirtualMeetings.ZoomAdapter.get_appointment_with_associations/1

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 145 │       {:ok, _appointment} -> get_appointment_with_associations(_appointment)
     │                                                                ~
     │
     └─ lib/clinicpro/virtual_meetings/zoom_adapter.ex:145:64: Clinicpro.VirtualMeetings.ZoomAdapter.get_appointment_with_associations/1

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 152 │     case get_zoom_credentials(_clinic_id) do
     │                               ~
     │
     └─ lib/clinicpro/virtual_meetings/zoom_adapter.ex:152:31: Clinicpro.VirtualMeetings.ZoomAdapter.get_access_token/1

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 168 │       not is_nil(_clinic_id) ->
     │                  ~
     │
     └─ lib/clinicpro/virtual_meetings/zoom_adapter.ex:168:18: Clinicpro.VirtualMeetings.ZoomAdapter.get_zoom_credentials/1

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 169 │         case Clinicpro.VirtualMeetings.Config.get_clinic_config(_clinic_id) do
     │                                                                 ~
     │
     └─ lib/clinicpro/virtual_meetings/zoom_adapter.ex:169:65: Clinicpro.VirtualMeetings.ZoomAdapter.get_zoom_credentials/1

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 253 │     topic = format_meeting_topic(_appointment)
     │                                  ~
     │
     └─ lib/clinicpro/virtual_meetings/zoom_adapter.ex:253:34: Clinicpro.VirtualMeetings.ZoomAdapter.create_zoom_meeting/3

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 254 │     start_time = format_meeting_start_time(_appointment)
     │                                            ~
     │
     └─ lib/clinicpro/virtual_meetings/zoom_adapter.ex:254:44: Clinicpro.VirtualMeetings.ZoomAdapter.create_zoom_meeting/3

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 255 │     duration = _appointment.duration || 30
     │                ~
     │
     └─ lib/clinicpro/virtual_meetings/zoom_adapter.ex:255:16: Clinicpro.VirtualMeetings.ZoomAdapter.create_zoom_meeting/3

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 300 │       topic = format_meeting_topic(_appointment)
     │                                    ~
     │
     └─ lib/clinicpro/virtual_meetings/zoom_adapter.ex:300:36: Clinicpro.VirtualMeetings.ZoomAdapter.update_zoom_meeting/4

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 301 │       start_time = format_meeting_start_time(_appointment)
     │                                              ~
     │
     └─ lib/clinicpro/virtual_meetings/zoom_adapter.ex:301:46: Clinicpro.VirtualMeetings.ZoomAdapter.update_zoom_meeting/4

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 302 │       duration = _appointment.duration || 30
     │                  ~
     │
     └─ lib/clinicpro/virtual_meetings/zoom_adapter.ex:302:18: Clinicpro.VirtualMeetings.ZoomAdapter.update_zoom_meeting/4

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 376 │     case _appointment.meeting_data do
     │          ~
     │
     └─ lib/clinicpro/virtual_meetings/zoom_adapter.ex:376:10: Clinicpro.VirtualMeetings.ZoomAdapter.extract_meeting_data/1

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 384 │     patient_name = "#{_appointment.patient.first_name} #{_appointment.patient.last_name}"
     │                       ~
     │
     └─ lib/clinicpro/virtual_meetings/zoom_adapter.ex:384:23: Clinicpro.VirtualMeetings.ZoomAdapter.format_meeting_topic/1

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 384 │     patient_name = "#{_appointment.patient.first_name} #{_appointment.patient.last_name}"
     │                                                          ~
     │
     └─ lib/clinicpro/virtual_meetings/zoom_adapter.ex:384:58: Clinicpro.VirtualMeetings.ZoomAdapter.format_meeting_topic/1

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 385 │     doctor_name = "#{_appointment.doctor.first_name} #{_appointment.doctor.last_name}"
     │                      ~
     │
     └─ lib/clinicpro/virtual_meetings/zoom_adapter.ex:385:22: Clinicpro.VirtualMeetings.ZoomAdapter.format_meeting_topic/1

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 385 │     doctor_name = "#{_appointment.doctor.first_name} #{_appointment.doctor.last_name}"
     │                                                        ~
     │
     └─ lib/clinicpro/virtual_meetings/zoom_adapter.ex:385:56: Clinicpro.VirtualMeetings.ZoomAdapter.format_meeting_topic/1

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 392 │       _appointment.appointment_date,
     │       ~
     │
     └─ lib/clinicpro/virtual_meetings/zoom_adapter.ex:392:7: Clinicpro.VirtualMeetings.ZoomAdapter.format_meeting_start_time/1

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 393 │       _appointment.appointment_time
     │       ~
     │
     └─ lib/clinicpro/virtual_meetings/zoom_adapter.ex:393:7: Clinicpro.VirtualMeetings.ZoomAdapter.format_meeting_start_time/1

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 96 │             where: w._clinic_id == ^_clinic_id,
    │                                     ~
    │
    └─ lib/clinicpro/paystack/webhook_log.ex:96:37: Clinicpro.Paystack.WebhookLog.list/4

     warning: the underscored variable "_per_page" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 107 │             |> limit(^_per_page)
     │                       ~
     │
     └─ lib/clinicpro/paystack/webhook_log.ex:107:23: Clinicpro.Paystack.WebhookLog.list/4

     warning: the underscored variable "_page" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 108 │             |> offset(^((_page - 1) * _per_page))
     │                          ~
     │
     └─ lib/clinicpro/paystack/webhook_log.ex:108:26: Clinicpro.Paystack.WebhookLog.list/4

     warning: the underscored variable "_per_page" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 108 │             |> offset(^((_page - 1) * _per_page))
     │                                       ~
     │
     └─ lib/clinicpro/paystack/webhook_log.ex:108:39: Clinicpro.Paystack.WebhookLog.list/4

    warning: unused alias Appointment
    │
 13 │   alias Clinicpro.AdminBypass.Appointment
    │   ~
    │
    └─ lib/clinicpro/virtual_meetings/custom_zoom_adapter.ex:13:3

    warning: unused alias Client
    │
 17 │   alias OAuth2.Client
    │   ~
    │
    └─ lib/clinicpro/virtual_meetings/custom_zoom_adapter.ex:17:3

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 121 │             where: w.id == ^id and w._clinic_id == ^_clinic_id,
     │                                                     ~
     │
     └─ lib/clinicpro/paystack/webhook_log.ex:121:53: Clinicpro.Paystack.WebhookLog.get_with_transaction/2

     warning: the underscored variable "_patients" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 158 │     render(conn, :_patients, _patients: _patients)
     │                                         ~
     │
     └─ lib/clinicpro_web/controllers/admin_controller.ex:158:41: ClinicproWeb.AdminController._patients/2

     warning: the underscored variable "_doctors" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 261 │       _doctors: _doctors,
     │                 ~
     │
     └─ lib/clinicpro_web/controllers/admin_controller.ex:261:17: ClinicproWeb.AdminController.new_appointment/2

     warning: the underscored variable "_patients" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 262 │       _patients: _patients
     │                  ~
     │
     └─ lib/clinicpro_web/controllers/admin_controller.ex:262:18: ClinicproWeb.AdminController.new_appointment/2

     warning: the underscored variable "_doctors" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 282 │         |> render(:new_appointment, _doctors: _doctors, _patients: _patients, changeset: changeset)
     │                                               ~
     │
     └─ lib/clinicpro_web/controllers/admin_controller.ex:282:47: ClinicproWeb.AdminController.create_appointment/2

     warning: the underscored variable "_patients" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 282 │         |> render(:new_appointment, _doctors: _doctors, _patients: _patients, changeset: changeset)
     │                                                                    ~
     │
     └─ lib/clinicpro_web/controllers/admin_controller.ex:282:68: ClinicproWeb.AdminController.create_appointment/2

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 294 │         changeset = Clinicpro.Appointment.change(_appointment)
     │                                                  ~
     │
     └─ lib/clinicpro_web/controllers/admin_controller.ex:294:50: ClinicproWeb.AdminController.edit_appointment/2

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 297 │           _appointment: _appointment,
     │                         ~
     │
     └─ lib/clinicpro_web/controllers/admin_controller.ex:297:25: ClinicproWeb.AdminController.edit_appointment/2

     warning: the underscored variable "_doctors" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 298 │           _doctors: _doctors,
     │                     ~
     │
     └─ lib/clinicpro_web/controllers/admin_controller.ex:298:21: ClinicproWeb.AdminController.edit_appointment/2

     warning: the underscored variable "_patients" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 299 │           _patients: _patients,
     │                      ~
     │
     └─ lib/clinicpro_web/controllers/admin_controller.ex:299:22: ClinicproWeb.AdminController.edit_appointment/2

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 342 │         case Clinicpro.Appointment.update(_appointment, %{status: "cancelled"}) do
     │                                           ~
     │
     └─ lib/clinicpro_web/controllers/admin_controller.ex:342:43: ClinicproWeb.AdminController.delete_appointment/2

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 426 │       _appointment = if Ecto.assoc_loaded?(_appointment.doctor) && Ecto.assoc_loaded?(_appointment.patient) do
     │                                            ~
     │
     └─ lib/clinicpro_web/controllers/admin_controller.ex:426:44: ClinicproWeb.AdminController.get_recent_activity/0

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 426 │       _appointment = if Ecto.assoc_loaded?(_appointment.doctor) && Ecto.assoc_loaded?(_appointment.patient) do
     │                                                                                       ~
     │
     └─ lib/clinicpro_web/controllers/admin_controller.ex:426:87: ClinicproWeb.AdminController.get_recent_activity/0

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 429 │         Clinicpro.Repo.preload(_appointment, [:doctor, :patient])
     │                                ~
     │
     └─ lib/clinicpro_web/controllers/admin_controller.ex:429:32: ClinicproWeb.AdminController.get_recent_activity/0

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 427 │         _appointment
     │         ~
     │
     └─ lib/clinicpro_web/controllers/admin_controller.ex:427:9: ClinicproWeb.AdminController.get_recent_activity/0

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 432 │       doctor_name = if _appointment.doctor, do: _appointment.doctor.name, else: "Unknown Doctor"
     │                        ~
     │
     └─ lib/clinicpro_web/controllers/admin_controller.ex:432:24: ClinicproWeb.AdminController.get_recent_activity/0

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 432 │       doctor_name = if _appointment.doctor, do: _appointment.doctor.name, else: "Unknown Doctor"
     │                                                 ~
     │
     └─ lib/clinicpro_web/controllers/admin_controller.ex:432:49: ClinicproWeb.AdminController.get_recent_activity/0

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 433 │       patient_name = if _appointment.patient, do: Clinicpro.Patient.full_name(_appointment.patient), else: "Unknown Patient"
     │                         ~
     │
     └─ lib/clinicpro_web/controllers/admin_controller.ex:433:25: ClinicproWeb.AdminController.get_recent_activity/0

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 433 │       patient_name = if _appointment.patient, do: Clinicpro.Patient.full_name(_appointment.patient), else: "Unknown Patient"
     │                                                                               ~
     │
     └─ lib/clinicpro_web/controllers/admin_controller.ex:433:79: ClinicproWeb.AdminController.get_recent_activity/0

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 439 │         timestamp: _appointment.inserted_at || ~U[2023-01-01 00:00:00Z],
     │                    ~
     │
     └─ lib/clinicpro_web/controllers/admin_controller.ex:439:20: ClinicproWeb.AdminController.get_recent_activity/0

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 440 │         details: "#{_appointment.type} _appointment with #{patient_name} on #{_appointment.date}"
     │                     ~
     │
     └─ lib/clinicpro_web/controllers/admin_controller.ex:440:21: ClinicproWeb.AdminController.get_recent_activity/0

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 440 │         details: "#{_appointment.type} _appointment with #{patient_name} on #{_appointment.date}"
     │                                                                               ~
     │
     └─ lib/clinicpro_web/controllers/admin_controller.ex:440:79: ClinicproWeb.AdminController.get_recent_activity/0

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 509 │       _appointment -> {:ok, _appointment}
     │                             ~
     │
     └─ lib/clinicpro_web/controllers/admin_controller.ex:509:29: ClinicproWeb.AdminController.get_appointment/1

     warning: the underscored variable "_doctors" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 559 │     render(conn, :_doctors, _doctors: _doctors)
     │                                       ~
     │
     └─ lib/clinicpro_web/controllers/admin_controller.ex:559:39: ClinicproWeb.AdminController._doctors/2

     warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 571 │         _opts |> Keyword.get(String.to_existing_atom(key), key) |> to_string()
     │         ~
     │
     └─ lib/clinicpro_web/controllers/admin_controller.ex:571:9: ClinicproWeb.AdminController.error_messages/1

    warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 22 │         if _appointment.patient_id == patient.id do
    │            ~
    │
    └─ lib/clinicpro_web/controllers/appointment_controller.ex:22:12: ClinicproWeb.AppointmentController.show/2

    warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 24 │           invoice = Invoices.get_invoice_by_appointment(_appointment.id)
    │                                                         ~
    │
    └─ lib/clinicpro_web/controllers/appointment_controller.ex:24:57: ClinicproWeb.AppointmentController.show/2

    warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 26 │           render(conn, :show, _appointment: _appointment, invoice: invoice)
    │                                             ~
    │
    └─ lib/clinicpro_web/controllers/appointment_controller.ex:26:45: ClinicproWeb.AppointmentController.show/2

    warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 51 │         if _appointment.patient_id == patient.id do
    │            ~
    │
    └─ lib/clinicpro_web/controllers/appointment_controller.ex:51:12: ClinicproWeb.AppointmentController.virtual_link/2

    warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 53 │           invoice = Invoices.get_invoice_by_appointment(_appointment.id)
    │                                                         ~
    │
    └─ lib/clinicpro_web/controllers/appointment_controller.ex:53:57: ClinicproWeb.AppointmentController.virtual_link/2

    warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 56 │           if _appointment.appointment_type == "virtual" && invoice && invoice.status == "paid" do
    │              ~
    │
    └─ lib/clinicpro_web/controllers/appointment_controller.ex:56:14: ClinicproWeb.AppointmentController.virtual_link/2

    warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 64 │             |> redirect(to: ~p"/q/_appointment/#{_appointment.id}")
    │                                                  ~
    │
    └─ lib/clinicpro_web/controllers/appointment_controller.ex:64:50: ClinicproWeb.AppointmentController.virtual_link/2

    warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 58 │             meeting_link = get_or_generate_meeting_link(_appointment)
    │                                                         ~
    │
    └─ lib/clinicpro_web/controllers/appointment_controller.ex:58:57: ClinicproWeb.AppointmentController.virtual_link/2

    warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 60 │             render(conn, :virtual_link, _appointment: _appointment, meeting_link: meeting_link)
    │                                                       ~
    │
    └─ lib/clinicpro_web/controllers/appointment_controller.ex:60:55: ClinicproWeb.AppointmentController.virtual_link/2

    warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 90 │         if _appointment.patient_id == patient.id do
    │            ~
    │
    └─ lib/clinicpro_web/controllers/appointment_controller.ex:90:12: ClinicproWeb.AppointmentController.onsite_details/2

    warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 92 │           invoice = Invoices.get_invoice_by_appointment(_appointment.id)
    │                                                         ~
    │
    └─ lib/clinicpro_web/controllers/appointment_controller.ex:92:57: ClinicproWeb.AppointmentController.onsite_details/2

    warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 95 │           if _appointment.appointment_type == "onsite" && invoice && invoice.status == "paid" do
    │              ~
    │
    └─ lib/clinicpro_web/controllers/appointment_controller.ex:95:14: ClinicproWeb.AppointmentController.onsite_details/2

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 106 │             |> redirect(to: ~p"/q/_appointment/#{_appointment.id}")
     │                                                  ~
     │
     └─ lib/clinicpro_web/controllers/appointment_controller.ex:106:50: ClinicproWeb.AppointmentController.onsite_details/2

    warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 97 │             clinic = get_clinic_details(_appointment._clinic_id)
    │                                         ~
    │
    └─ lib/clinicpro_web/controllers/appointment_controller.ex:97:41: ClinicproWeb.AppointmentController.onsite_details/2

    warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 99 │             render(conn, :onsite_details, _appointment: _appointment, clinic: clinic)
    │                                                         ~
    │
    └─ lib/clinicpro_web/controllers/appointment_controller.ex:99:57: ClinicproWeb.AppointmentController.onsite_details/2

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 120 │     if _appointment.meeting_link && _appointment.meeting_link != "" do
     │        ~
     │
     └─ lib/clinicpro_web/controllers/appointment_controller.ex:120:8: ClinicproWeb.AppointmentController.get_or_generate_meeting_link/1

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 120 │     if _appointment.meeting_link && _appointment.meeting_link != "" do
     │                                     ~
     │
     └─ lib/clinicpro_web/controllers/appointment_controller.ex:120:37: ClinicproWeb.AppointmentController.get_or_generate_meeting_link/1

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 129 │       _clinic_id = get_clinic_id_for_appointment(_appointment)
     │                                                  ~
     │
     └─ lib/clinicpro_web/controllers/appointment_controller.ex:129:50: ClinicproWeb.AppointmentController.get_or_generate_meeting_link/1

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 132 │       case Clinicpro.VirtualMeetings.Adapter.create_meeting(_appointment, [], _clinic_id) do
     │                                                             ~
     │
     └─ lib/clinicpro_web/controllers/appointment_controller.ex:132:61: ClinicproWeb.AppointmentController.get_or_generate_meeting_link/1

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 132 │       case Clinicpro.VirtualMeetings.Adapter.create_meeting(_appointment, [], _clinic_id) do
     │                                                                               ~
     │
     └─ lib/clinicpro_web/controllers/appointment_controller.ex:132:79: ClinicproWeb.AppointmentController.get_or_generate_meeting_link/1

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 139 │             Appointments.update_appointment(_appointment, %{meeting_link: link})
     │                                             ~
     │
     └─ lib/clinicpro_web/controllers/appointment_controller.ex:139:45: ClinicproWeb.AppointmentController.get_or_generate_meeting_link/1

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 150 │             "https://meet.clinicpro.com/#{_appointment.id}-#{:crypto.strong_rand_bytes(8) |> Base.encode16(case: :lower)}"
     │                                           ~
     │
     └─ lib/clinicpro_web/controllers/appointment_controller.ex:150:43: ClinicproWeb.AppointmentController.get_or_generate_meeting_link/1

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 154 │             Appointments.update_appointment(_appointment, %{meeting_link: link})
     │                                             ~
     │
     └─ lib/clinicpro_web/controllers/appointment_controller.ex:154:45: ClinicproWeb.AppointmentController.get_or_generate_meeting_link/1

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 121 │       _appointment.meeting_link
     │       ~
     │
     └─ lib/clinicpro_web/controllers/appointment_controller.ex:121:7: ClinicproWeb.AppointmentController.get_or_generate_meeting_link/1

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 181 │       id: _clinic_id,
     │           ~
     │
     └─ lib/clinicpro_web/controllers/appointment_controller.ex:181:11: ClinicproWeb.AppointmentController.get_clinic_details/1

     warning: function get_admins/0 is unused
     │
 562 │   defp get_admins do
     │        ~
     │
     └─ lib/clinicpro_web/controllers/admin_controller.ex:562:8: ClinicproWeb.AdminController (module)

     warning: function get_appointments/0 is unused
     │
 500 │   defp get_appointments do
     │        ~
     │
     └─ lib/clinicpro_web/controllers/admin_controller.ex:500:8: ClinicproWeb.AdminController (module)

     warning: function get_doctors/0 is unused
     │
 474 │   defp get_doctors do
     │        ~
     │
     └─ lib/clinicpro_web/controllers/admin_controller.ex:474:8: ClinicproWeb.AdminController (module)

     warning: function get_patients/0 is unused
     │
 487 │   defp get_patients do
     │        ~
     │
     └─ lib/clinicpro_web/controllers/admin_controller.ex:487:8: ClinicproWeb.AdminController (module)

    warning: unused alias ConferenceSolution
    │
 15 │   alias GoogleApi.Calendar.V3.Model.{Event, EventDateTime, ConferencingData, CreateConferenceRequest, ConferenceData, ConferenceSolution}
    │   ~
    │
    └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:15:3

    warning: unused alias ConferencingData
    │
 15 │   alias GoogleApi.Calendar.V3.Model.{Event, EventDateTime, ConferencingData, CreateConferenceRequest, ConferenceData, ConferenceSolution}
    │   ~
    │
    └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:15:3

    warning: unused alias Token
    │
 16 │   alias Goth.Token
    │   ~
    │
    └─ lib/clinicpro/virtual_meetings/google_meet_adapter.ex:16:3

    warning: the underscored variable "_doctors" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 62 │     render(conn, :_doctors, page_title: "Doctors", _doctors: _doctors)
    │                                                              ~
    │
    └─ lib/clinicpro_web/controllers/admin_bypass_controller.ex:62:62: ClinicproWeb.AdminBypassController._doctors/2

     warning: the underscored variable "_patients" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 114 │     render(conn, :_patients, page_title: "Patients", _patients: _patients)
     │                                                                 ~
     │
     └─ lib/clinicpro_web/controllers/admin_bypass_controller.ex:114:65: ClinicproWeb.AdminBypassController._patients/2

     warning: the underscored variable "_doctors" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 177 │       _doctors: _doctors,
     │                 ~
     │
     └─ lib/clinicpro_web/controllers/admin_bypass_controller.ex:177:17: ClinicproWeb.AdminBypassController.new_appointment/2

     warning: the underscored variable "_patients" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 178 │       _patients: _patients
     │                  ~
     │
     └─ lib/clinicpro_web/controllers/admin_bypass_controller.ex:178:18: ClinicproWeb.AdminBypassController.new_appointment/2

     warning: the underscored variable "_doctors" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 196 │           _doctors: _doctors,
     │                     ~
     │
     └─ lib/clinicpro_web/controllers/admin_bypass_controller.ex:196:21: ClinicproWeb.AdminBypassController.create_appointment/2

     warning: the underscored variable "_patients" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 197 │           _patients: _patients
     │                      ~
     │
     └─ lib/clinicpro_web/controllers/admin_bypass_controller.ex:197:22: ClinicproWeb.AdminBypassController.create_appointment/2

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 206 │     changeset = Appointment.change_appointment(_appointment)
     │                                                ~
     │
     └─ lib/clinicpro_web/controllers/admin_bypass_controller.ex:206:48: ClinicproWeb.AdminBypassController.edit_appointment/2

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 210 │       _appointment: _appointment, 
     │                     ~
     │
     └─ lib/clinicpro_web/controllers/admin_bypass_controller.ex:210:21: ClinicproWeb.AdminBypassController.edit_appointment/2

     warning: the underscored variable "_doctors" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 212 │       _doctors: _doctors,
     │                 ~
     │
     └─ lib/clinicpro_web/controllers/admin_bypass_controller.ex:212:17: ClinicproWeb.AdminBypassController.edit_appointment/2

     warning: the underscored variable "_patients" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 213 │       _patients: _patients
     │                  ~
     │
     └─ lib/clinicpro_web/controllers/admin_bypass_controller.ex:213:18: ClinicproWeb.AdminBypassController.edit_appointment/2

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 220 │     case Appointment.update_appointment(_appointment, appointment_params) do
     │                                         ~
     │
     └─ lib/clinicpro_web/controllers/admin_bypass_controller.ex:220:41: ClinicproWeb.AdminBypassController.update_appointment/2

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 232 │           _appointment: _appointment, 
     │                         ~
     │
     └─ lib/clinicpro_web/controllers/admin_bypass_controller.ex:232:25: ClinicproWeb.AdminBypassController.update_appointment/2

     warning: the underscored variable "_doctors" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 234 │           _doctors: _doctors,
     │                     ~
     │
     └─ lib/clinicpro_web/controllers/admin_bypass_controller.ex:234:21: ClinicproWeb.AdminBypassController.update_appointment/2

     warning: the underscored variable "_patients" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 235 │           _patients: _patients
     │                      ~
     │
     └─ lib/clinicpro_web/controllers/admin_bypass_controller.ex:235:22: ClinicproWeb.AdminBypassController.update_appointment/2

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 242 │     {:ok, _} = Appointment.delete_appointment(_appointment)
     │                                               ~
     │
     └─ lib/clinicpro_web/controllers/admin_bypass_controller.ex:242:47: ClinicproWeb.AdminBypassController.delete_appointment/2

     warning: the underscored variable "_patients" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 317 │       _patients: _patients
     │                  ~
     │
     └─ lib/clinicpro_web/controllers/admin_bypass_controller.ex:317:18: ClinicproWeb.AdminBypassController.invoice_reports/2

    warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 60 │         if _appointment do
    │            ~
    │
    └─ lib/clinicpro_web/controllers/doctor_flow_bypass_controller.ex:60:12: ClinicproWeb.DoctorFlowBypassController.access_appointment/2

    warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 72 │           render(conn, :access_appointment, _appointment: _appointment)
    │                                                           ~
    │
    └─ lib/clinicpro_web/controllers/doctor_flow_bypass_controller.ex:72:59: ClinicproWeb.DoctorFlowBypassController.access_appointment/2

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 105 │         if _appointment do
     │            ~
     │
     └─ lib/clinicpro_web/controllers/doctor_flow_bypass_controller.ex:105:12: ClinicproWeb.DoctorFlowBypassController.fill_medical_details_form/2

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 117 │           render(conn, :fill_medical_details_form, _appointment: _appointment)
     │                                                                  ~
     │
     └─ lib/clinicpro_web/controllers/doctor_flow_bypass_controller.ex:117:66: ClinicproWeb.DoctorFlowBypassController.fill_medical_details_form/2

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 195 │         if _appointment do
     │            ~
     │
     └─ lib/clinicpro_web/controllers/doctor_flow_bypass_controller.ex:195:12: ClinicproWeb.DoctorFlowBypassController.record_diagnosis_form/2

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 198 │             _appointment: _appointment, 
     │                           ~
     │
     └─ lib/clinicpro_web/controllers/doctor_flow_bypass_controller.ex:198:27: ClinicproWeb.DoctorFlowBypassController.record_diagnosis_form/2

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 278 │         if _appointment do
     │            ~
     │
     └─ lib/clinicpro_web/controllers/doctor_flow_bypass_controller.ex:278:12: ClinicproWeb.DoctorFlowBypassController.complete_appointment_form/2

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 281 │             _appointment: _appointment, 
     │                           ~
     │
     └─ lib/clinicpro_web/controllers/doctor_flow_bypass_controller.ex:281:27: ClinicproWeb.DoctorFlowBypassController.complete_appointment_form/2

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 369 │     |> Enum.find(fn _appointment -> _appointment.id == id end)
     │                                     ~
     │
     └─ lib/clinicpro_web/controllers/doctor_flow_bypass_controller.ex:369:37: ClinicproWeb.DoctorFlowBypassController.get_mock_appointment/1

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 12 │     with {:ok, clinic} <- get_clinic(_clinic_id) do
    │                                      ~
    │
    └─ lib/clinicpro_web/controllers/invoice_controller.ex:12:38: ClinicproWeb.InvoiceController.index/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 21 │       filters = %{_clinic_id: _clinic_id}
    │                               ~
    │
    └─ lib/clinicpro_web/controllers/invoice_controller.ex:21:31: ClinicproWeb.InvoiceController.index/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 28 │       stats = Invoice.get_stats_for_clinic(_clinic_id)
    │                                            ~
    │
    └─ lib/clinicpro_web/controllers/invoice_controller.ex:28:44: ClinicproWeb.InvoiceController.index/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 34 │         _clinic_id: _clinic_id,
    │                     ~
    │
    └─ lib/clinicpro_web/controllers/invoice_controller.ex:34:21: ClinicproWeb.InvoiceController.index/2

    warning: the underscored variable "_patients" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 38 │         _patients: _patients,
    │                    ~
    │
    └─ lib/clinicpro_web/controllers/invoice_controller.ex:38:20: ClinicproWeb.InvoiceController.index/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 47 │     with {:ok, clinic} <- get_clinic(_clinic_id),
    │                                      ~
    │
    └─ lib/clinicpro_web/controllers/invoice_controller.ex:47:38: ClinicproWeb.InvoiceController.show/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 50 │       if invoice._clinic_id != _clinic_id do
    │                                ~
    │
    └─ lib/clinicpro_web/controllers/invoice_controller.ex:50:32: ClinicproWeb.InvoiceController.show/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 56 │         transactions = InvoiceIntegration.get_invoice_transactions(id, _clinic_id)
    │                                                                        ~
    │
    └─ lib/clinicpro_web/controllers/invoice_controller.ex:56:72: ClinicproWeb.InvoiceController.show/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 59 │         payment_status = InvoiceIntegration.get_invoice_payment_status(id, _clinic_id)
    │                                                                            ~
    │
    └─ lib/clinicpro_web/controllers/invoice_controller.ex:59:76: ClinicproWeb.InvoiceController.show/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 62 │           _clinic_id: _clinic_id,
    │                       ~
    │
    └─ lib/clinicpro_web/controllers/invoice_controller.ex:62:23: ClinicproWeb.InvoiceController.show/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 53 │         |> redirect(to: ~p"/admin_bypass/clinics/#{_clinic_id}/invoices")
    │                                                    ~
    │
    └─ lib/clinicpro_web/controllers/invoice_controller.ex:53:52: ClinicproWeb.InvoiceController.show/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 74 │     with {:ok, clinic} <- get_clinic(_clinic_id) do
    │                                      ~
    │
    └─ lib/clinicpro_web/controllers/invoice_controller.ex:74:38: ClinicproWeb.InvoiceController.new/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 77 │           _clinic_id: _clinic_id,
    │                       ~
    │
    └─ lib/clinicpro_web/controllers/invoice_controller.ex:77:23: ClinicproWeb.InvoiceController.new/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 83 │       appointments = Appointment.list_appointments_for_clinic(_clinic_id)
    │                                                               ~
    │
    └─ lib/clinicpro_web/controllers/invoice_controller.ex:83:63: ClinicproWeb.InvoiceController.new/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 86 │         _clinic_id: _clinic_id,
    │                     ~
    │
    └─ lib/clinicpro_web/controllers/invoice_controller.ex:86:21: ClinicproWeb.InvoiceController.new/2

    warning: the underscored variable "_patients" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 89 │         _patients: _patients,
    │                    ~
    │
    └─ lib/clinicpro_web/controllers/invoice_controller.ex:89:20: ClinicproWeb.InvoiceController.new/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 97 │     with {:ok, clinic} <- get_clinic(_clinic_id) do
    │                                      ~
    │
    └─ lib/clinicpro_web/controllers/invoice_controller.ex:97:38: ClinicproWeb.InvoiceController.create/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 99 │       invoice_params = Map.put(invoice_params, "_clinic_id", _clinic_id)
    │                                                              ~
    │
    └─ lib/clinicpro_web/controllers/invoice_controller.ex:99:62: ClinicproWeb.InvoiceController.create/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 105 │           |> redirect(to: ~p"/admin_bypass/clinics/#{_clinic_id}/invoices/#{invoice.id}")
     │                                                      ~
     │
     └─ lib/clinicpro_web/controllers/invoice_controller.ex:105:54: ClinicproWeb.InvoiceController.create/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 109 │           appointments = Appointment.list_appointments_for_clinic(_clinic_id)
     │                                                                   ~
     │
     └─ lib/clinicpro_web/controllers/invoice_controller.ex:109:67: ClinicproWeb.InvoiceController.create/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 112 │             _clinic_id: _clinic_id,
     │                         ~
     │
     └─ lib/clinicpro_web/controllers/invoice_controller.ex:112:25: ClinicproWeb.InvoiceController.create/2

     warning: the underscored variable "_patients" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 115 │             _patients: _patients,
     │                        ~
     │
     └─ lib/clinicpro_web/controllers/invoice_controller.ex:115:24: ClinicproWeb.InvoiceController.create/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 124 │     with {:ok, clinic} <- get_clinic(_clinic_id),
     │                                      ~
     │
     └─ lib/clinicpro_web/controllers/invoice_controller.ex:124:38: ClinicproWeb.InvoiceController.edit/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 127 │       if invoice._clinic_id != _clinic_id do
     │                                ~
     │
     └─ lib/clinicpro_web/controllers/invoice_controller.ex:127:32: ClinicproWeb.InvoiceController.edit/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 134 │         appointments = Appointment.list_appointments_for_clinic(_clinic_id)
     │                                                                 ~
     │
     └─ lib/clinicpro_web/controllers/invoice_controller.ex:134:65: ClinicproWeb.InvoiceController.edit/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 137 │           _clinic_id: _clinic_id,
     │                       ~
     │
     └─ lib/clinicpro_web/controllers/invoice_controller.ex:137:23: ClinicproWeb.InvoiceController.edit/2

     warning: the underscored variable "_patients" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 141 │           _patients: _patients,
     │                      ~
     │
     └─ lib/clinicpro_web/controllers/invoice_controller.ex:141:22: ClinicproWeb.InvoiceController.edit/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 130 │         |> redirect(to: ~p"/admin_bypass/clinics/#{_clinic_id}/invoices")
     │                                                    ~
     │
     └─ lib/clinicpro_web/controllers/invoice_controller.ex:130:52: ClinicproWeb.InvoiceController.edit/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 150 │     with {:ok, clinic} <- get_clinic(_clinic_id),
     │                                      ~
     │
     └─ lib/clinicpro_web/controllers/invoice_controller.ex:150:38: ClinicproWeb.InvoiceController.update/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 153 │       if invoice._clinic_id != _clinic_id do
     │                                ~
     │
     └─ lib/clinicpro_web/controllers/invoice_controller.ex:153:32: ClinicproWeb.InvoiceController.update/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 162 │             |> redirect(to: ~p"/admin_bypass/clinics/#{_clinic_id}/invoices/#{updated_invoice.id}")
     │                                                        ~
     │
     └─ lib/clinicpro_web/controllers/invoice_controller.ex:162:56: ClinicproWeb.InvoiceController.update/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 166 │             appointments = Appointment.list_appointments_for_clinic(_clinic_id)
     │                                                                     ~
     │
     └─ lib/clinicpro_web/controllers/invoice_controller.ex:166:69: ClinicproWeb.InvoiceController.update/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 169 │               _clinic_id: _clinic_id,
     │                           ~
     │
     └─ lib/clinicpro_web/controllers/invoice_controller.ex:169:27: ClinicproWeb.InvoiceController.update/2

     warning: the underscored variable "_patients" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 173 │               _patients: _patients,
     │                          ~
     │
     └─ lib/clinicpro_web/controllers/invoice_controller.ex:173:26: ClinicproWeb.InvoiceController.update/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 156 │         |> redirect(to: ~p"/admin_bypass/clinics/#{_clinic_id}/invoices")
     │                                                    ~
     │
     └─ lib/clinicpro_web/controllers/invoice_controller.ex:156:52: ClinicproWeb.InvoiceController.update/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 183 │     with {:ok, _clinic} <- get_clinic(_clinic_id),
     │                                       ~
     │
     └─ lib/clinicpro_web/controllers/invoice_controller.ex:183:39: ClinicproWeb.InvoiceController.delete/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 186 │       if invoice._clinic_id != _clinic_id do
     │                                ~
     │
     └─ lib/clinicpro_web/controllers/invoice_controller.ex:186:32: ClinicproWeb.InvoiceController.delete/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 201 │           |> redirect(to: ~p"/admin_bypass/clinics/#{_clinic_id}/invoices/#{invoice.id}")
     │                                                      ~
     │
     └─ lib/clinicpro_web/controllers/invoice_controller.ex:201:54: ClinicproWeb.InvoiceController.delete/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 197 │           |> redirect(to: ~p"/admin_bypass/clinics/#{_clinic_id}/invoices")
     │                                                      ~
     │
     └─ lib/clinicpro_web/controllers/invoice_controller.ex:197:54: ClinicproWeb.InvoiceController.delete/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 189 │         |> redirect(to: ~p"/admin_bypass/clinics/#{_clinic_id}/invoices")
     │                                                    ~
     │
     └─ lib/clinicpro_web/controllers/invoice_controller.ex:189:52: ClinicproWeb.InvoiceController.delete/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 209 │     with {:ok, clinic} <- get_clinic(_clinic_id),
     │                                      ~
     │
     └─ lib/clinicpro_web/controllers/invoice_controller.ex:209:38: ClinicproWeb.InvoiceController.payment_form/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 212 │       if invoice._clinic_id != _clinic_id do
     │                                ~
     │
     └─ lib/clinicpro_web/controllers/invoice_controller.ex:212:32: ClinicproWeb.InvoiceController.payment_form/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 234 │           |> redirect(to: ~p"/admin_bypass/clinics/#{_clinic_id}/invoices/#{invoice.id}")
     │                                                      ~
     │
     └─ lib/clinicpro_web/controllers/invoice_controller.ex:234:54: ClinicproWeb.InvoiceController.payment_form/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 226 │             _clinic_id: _clinic_id,
     │                         ~
     │
     └─ lib/clinicpro_web/controllers/invoice_controller.ex:226:25: ClinicproWeb.InvoiceController.payment_form/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 215 │         |> redirect(to: ~p"/admin_bypass/clinics/#{_clinic_id}/invoices")
     │                                                    ~
     │
     └─ lib/clinicpro_web/controllers/invoice_controller.ex:215:52: ClinicproWeb.InvoiceController.payment_form/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 242 │     with {:ok, _clinic} <- get_clinic(_clinic_id),
     │                                       ~
     │
     └─ lib/clinicpro_web/controllers/invoice_controller.ex:242:39: ClinicproWeb.InvoiceController.process_payment/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 245 │       if invoice._clinic_id != _clinic_id do
     │                                ~
     │
     └─ lib/clinicpro_web/controllers/invoice_controller.ex:245:32: ClinicproWeb.InvoiceController.process_payment/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 277 │           |> redirect(to: ~p"/admin_bypass/clinics/#{_clinic_id}/invoices/#{invoice.id}")
     │                                                      ~
     │
     └─ lib/clinicpro_web/controllers/invoice_controller.ex:277:54: ClinicproWeb.InvoiceController.process_payment/2

     warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 258 │               PubSub.subscribe(Clinicpro.PubSub, "mpesa:_transaction:#{_transaction.reference}")
     │                                                                        ~
     │
     └─ lib/clinicpro_web/controllers/invoice_controller.ex:258:72: ClinicproWeb.InvoiceController.process_payment/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 265 │               |> redirect(to: ~p"/admin_bypass/clinics/#{_clinic_id}/invoices/#{invoice.id}")
     │                                                          ~
     │
     └─ lib/clinicpro_web/controllers/invoice_controller.ex:265:58: ClinicproWeb.InvoiceController.process_payment/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 271 │                 to: ~p"/admin_bypass/clinics/#{_clinic_id}/invoices/#{invoice.id}/payment"
     │                                                ~
     │
     └─ lib/clinicpro_web/controllers/invoice_controller.ex:271:48: ClinicproWeb.InvoiceController.process_payment/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 248 │         |> redirect(to: ~p"/admin_bypass/clinics/#{_clinic_id}/invoices")
     │                                                    ~
     │
     └─ lib/clinicpro_web/controllers/invoice_controller.ex:248:52: ClinicproWeb.InvoiceController.process_payment/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 296 │     with {:ok, _clinic} <- get_clinic(_clinic_id),
     │                                       ~
     │
     └─ lib/clinicpro_web/controllers/invoice_controller.ex:296:39: ClinicproWeb.InvoiceController.initiate_payment/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 299 │       if invoice._clinic_id != _clinic_id do
     │                                ~
     │
     └─ lib/clinicpro_web/controllers/invoice_controller.ex:299:32: ClinicproWeb.InvoiceController.initiate_payment/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 304 │         case InvoiceIntegration.initiate_stk_push_for_invoice(id, _clinic_id, phone_number) do
     │                                                                   ~
     │
     └─ lib/clinicpro_web/controllers/invoice_controller.ex:304:67: ClinicproWeb.InvoiceController.initiate_payment/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 308 │             |> redirect(to: ~p"/admin_bypass/clinics/#{_clinic_id}/invoices/#{invoice.id}")
     │                                                        ~
     │
     └─ lib/clinicpro_web/controllers/invoice_controller.ex:308:56: ClinicproWeb.InvoiceController.initiate_payment/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 313 │             |> redirect(to: ~p"/admin_bypass/clinics/#{_clinic_id}/invoices/#{invoice.id}")
     │                                                        ~
     │
     └─ lib/clinicpro_web/controllers/invoice_controller.ex:313:56: ClinicproWeb.InvoiceController.initiate_payment/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 302 │         |> redirect(to: ~p"/admin_bypass/clinics/#{_clinic_id}/invoices")
     │                                                    ~
     │
     └─ lib/clinicpro_web/controllers/invoice_controller.ex:302:52: ClinicproWeb.InvoiceController.initiate_payment/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 322 │     case Repo.get(Doctor, _clinic_id) do
     │                           ~
     │
     └─ lib/clinicpro_web/controllers/invoice_controller.ex:322:27: ClinicproWeb.InvoiceController.get_clinic/1

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 16 │     config = case Config.get_active_config(_clinic_id) do
    │                                            ~
    │
    └─ lib/clinicpro_web/controllers/mpesa_admin_controller.ex:16:44: ClinicproWeb.MPesaAdminController.index/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 23 │       total_transactions: Transaction.count_by_clinic(_clinic_id),
    │                                                       ~
    │
    └─ lib/clinicpro_web/controllers/mpesa_admin_controller.ex:23:55: ClinicproWeb.MPesaAdminController.index/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 24 │       completed_transactions: Transaction.count_by_clinic_and_status(_clinic_id, "completed"),
    │                                                                      ~
    │
    └─ lib/clinicpro_web/controllers/mpesa_admin_controller.ex:24:70: ClinicproWeb.MPesaAdminController.index/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 25 │       pending_transactions: Transaction.count_by_clinic_and_status(_clinic_id, "pending"),
    │                                                                    ~
    │
    └─ lib/clinicpro_web/controllers/mpesa_admin_controller.ex:25:68: ClinicproWeb.MPesaAdminController.index/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 26 │       failed_transactions: Transaction.count_by_clinic_and_status(_clinic_id, "failed"),
    │                                                                   ~
    │
    └─ lib/clinicpro_web/controllers/mpesa_admin_controller.ex:26:67: ClinicproWeb.MPesaAdminController.index/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 27 │       total_amount: Transaction.sum_amount_by_clinic_and_status(_clinic_id, "completed")
    │                                                                 ~
    │
    └─ lib/clinicpro_web/controllers/mpesa_admin_controller.ex:27:65: ClinicproWeb.MPesaAdminController.index/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 31 │     recent_transactions = Transaction.list_by_clinic(_clinic_id, limit: 10)
    │                                                      ~
    │
    └─ lib/clinicpro_web/controllers/mpesa_admin_controller.ex:31:54: ClinicproWeb.MPesaAdminController.index/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 45 │     changeset = Config.changeset(%Config{_clinic_id: _clinic_id}, %{})
    │                                                      ~
    │
    └─ lib/clinicpro_web/controllers/mpesa_admin_controller.ex:45:54: ClinicproWeb.MPesaAdminController.new_config/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 55 │     config_params = Map.put(config_params, "_clinic_id", _clinic_id)
    │                                                          ~
    │
    └─ lib/clinicpro_web/controllers/mpesa_admin_controller.ex:55:58: ClinicproWeb.MPesaAdminController.create_config/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 79 │     if config && config._clinic_id == _clinic_id do
    │                                       ~
    │
    └─ lib/clinicpro_web/controllers/mpesa_admin_controller.ex:79:39: ClinicproWeb.MPesaAdminController.edit_config/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 97 │     if config && config._clinic_id == _clinic_id do
    │                                       ~
    │
    └─ lib/clinicpro_web/controllers/mpesa_admin_controller.ex:97:39: ClinicproWeb.MPesaAdminController.update_config/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 122 │     if config && config._clinic_id == _clinic_id do
     │                                       ~
     │
     └─ lib/clinicpro_web/controllers/mpesa_admin_controller.ex:122:39: ClinicproWeb.MPesaAdminController.activate_config/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 149 │     if config && config._clinic_id == _clinic_id do
     │                                       ~
     │
     └─ lib/clinicpro_web/controllers/mpesa_admin_controller.ex:149:39: ClinicproWeb.MPesaAdminController.deactivate_config/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 188 │       _clinic_id,
     │       ~
     │
     └─ lib/clinicpro_web/controllers/mpesa_admin_controller.ex:188:7: ClinicproWeb.MPesaAdminController.list_transactions/2

     warning: the underscored variable "_page" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 190 │       String.to_integer(_page),
     │                         ~
     │
     └─ lib/clinicpro_web/controllers/mpesa_admin_controller.ex:190:25: ClinicproWeb.MPesaAdminController.list_transactions/2

     warning: the underscored variable "_per_page" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 191 │       String.to_integer(_per_page)
     │                         ~
     │
     └─ lib/clinicpro_web/controllers/mpesa_admin_controller.ex:191:25: ClinicproWeb.MPesaAdminController.list_transactions/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 207 │     case Transaction.get_by_id_and_clinic(id, _clinic_id) do
     │                                               ~
     │
     └─ lib/clinicpro_web/controllers/mpesa_admin_controller.ex:207:47: ClinicproWeb.MPesaAdminController.show_transaction/2

     warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 214 │         render(conn, "transaction_details.html", _transaction: _transaction)
     │                                                                ~
     │
     └─ lib/clinicpro_web/controllers/mpesa_admin_controller.ex:214:64: ClinicproWeb.MPesaAdminController.show_transaction/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 228 │     case MPesa.initiate_stk_push(_clinic_id, invoice_id, patient_id, phone_number, String.to_float(amount)) do
     │                                  ~
     │
     └─ lib/clinicpro_web/controllers/mpesa_admin_controller.ex:228:34: ClinicproWeb.MPesaAdminController.initiate_test_stk_push/2

     warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 231 │         |> put_flash(:info, "STK Push initiated successfully. Checkout Request ID: #{_transaction.checkout_request_id}")
     │                                                                                      ~
     │
     └─ lib/clinicpro_web/controllers/mpesa_admin_controller.ex:231:86: ClinicproWeb.MPesaAdminController.initiate_test_stk_push/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 256 │     if config && config._clinic_id == _clinic_id do
     │                                       ~
     │
     └─ lib/clinicpro_web/controllers/mpesa_admin_controller.ex:256:39: ClinicproWeb.MPesaAdminController.configuration_details/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 285 │       _clinic_id,
     │       ~
     │
     └─ lib/clinicpro_web/controllers/mpesa_admin_controller.ex:285:7: ClinicproWeb.MPesaAdminController.callback_logs/2

     warning: the underscored variable "_page" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 287 │       String.to_integer(_page),
     │                         ~
     │
     └─ lib/clinicpro_web/controllers/mpesa_admin_controller.ex:287:25: ClinicproWeb.MPesaAdminController.callback_logs/2

     warning: the underscored variable "_per_page" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 288 │       String.to_integer(_per_page)
     │                         ~
     │
     └─ lib/clinicpro_web/controllers/mpesa_admin_controller.ex:288:25: ClinicproWeb.MPesaAdminController.callback_logs/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 304 │     case CallbackLog.get_by_id_and_clinic(id, _clinic_id) do
     │                                               ~
     │
     └─ lib/clinicpro_web/controllers/mpesa_admin_controller.ex:304:47: ClinicproWeb.MPesaAdminController.callback_details/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 313 │           Transaction.get_by_id_and_clinic(callback_log.transaction_id, _clinic_id)
     │                                                                         ~
     │
     └─ lib/clinicpro_web/controllers/mpesa_admin_controller.ex:313:73: ClinicproWeb.MPesaAdminController.callback_details/2

     warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 318 │         render(conn, "callback_details.html", callback_log: callback_log, _transaction: _transaction)
     │                                                                                         ~
     │
     └─ lib/clinicpro_web/controllers/mpesa_admin_controller.ex:318:89: ClinicproWeb.MPesaAdminController.callback_details/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 329 │     recent_tests = Transaction.list_by_clinic(_clinic_id, limit: 5)
     │                                               ~
     │
     └─ lib/clinicpro_web/controllers/mpesa_admin_controller.ex:329:47: ClinicproWeb.MPesaAdminController.test_stk_push_form/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 349 │     case MPesa.stk_push(_clinic_id, invoice_id, patient_id, phone_number, amount, description) do
     │                         ~
     │
     └─ lib/clinicpro_web/controllers/mpesa_admin_controller.ex:349:25: ClinicproWeb.MPesaAdminController.test_stk_push/2

     warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 352 │         |> put_flash(:info, "STK Push initiated successfully. Checkout Request ID: #{_transaction.checkout_request_id}")
     │                                                                                      ~
     │
     └─ lib/clinicpro_web/controllers/mpesa_admin_controller.ex:352:86: ClinicproWeb.MPesaAdminController.test_stk_push/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 370 │     if config && config._clinic_id == _clinic_id do
     │                                       ~
     │
     └─ lib/clinicpro_web/controllers/mpesa_admin_controller.ex:370:39: ClinicproWeb.MPesaAdminController.register_urls/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 371 │       case MPesa.register_c2b_urls(_clinic_id) do
     │                                    ~
     │
     └─ lib/clinicpro_web/controllers/mpesa_admin_controller.ex:371:36: ClinicproWeb.MPesaAdminController.register_urls/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 395 │     case Transaction.get_by_id_and_clinic(id, _clinic_id) do
     │                                               ~
     │
     └─ lib/clinicpro_web/controllers/mpesa_admin_controller.ex:395:47: ClinicproWeb.MPesaAdminController.transaction_details/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 403 │         callbacks = CallbackLog.list_by_transaction(id, _clinic_id)
     │                                                         ~
     │
     └─ lib/clinicpro_web/controllers/mpesa_admin_controller.ex:403:57: ClinicproWeb.MPesaAdminController.transaction_details/2

     warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 404 │         render(conn, "transaction_details.html", _transaction: _transaction, callbacks: callbacks)
     │                                                                ~
     │
     └─ lib/clinicpro_web/controllers/mpesa_admin_controller.ex:404:64: ClinicproWeb.MPesaAdminController.transaction_details/2

    warning: unused import Ecto.Query
    │
  6 │   import Ecto.Query
    │   ~
    │
    └─ lib/clinicpro_web/controllers/admin_bypass_controller.ex:6:3

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 27 │     case Callback.process_stk_callback(body, _clinic_id) do
    │                                              ~
    │
    └─ lib/clinicpro_web/controllers/mpesa_callback_controller.ex:27:46: ClinicproWeb.MPesaCallbackController.stk_callback/2

    warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 33 │             Logger.info("Successfully processed M-Pesa payment for invoice #{invoice.id}, _transaction #{_transaction.id}")
    │                                                                                                          ~
    │
    └─ lib/clinicpro_web/controllers/mpesa_callback_controller.ex:33:106: ClinicproWeb.MPesaCallbackController.stk_callback/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 82 │     case Callback.process_c2b_validation(body, _clinic_id) do
    │                                                ~
    │
    └─ lib/clinicpro_web/controllers/mpesa_callback_controller.ex:82:48: ClinicproWeb.MPesaCallbackController.c2b_validation/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 85 │         case Clinicpro.Invoices.get_invoice_by_reference(reference, _clinic_id) do
    │                                                                     ~
    │
    └─ lib/clinicpro_web/controllers/mpesa_callback_controller.ex:85:69: ClinicproWeb.MPesaCallbackController.c2b_validation/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 131 │     case Callback.process_c2b_confirmation(body, _clinic_id) do
     │                                                  ~
     │
     └─ lib/clinicpro_web/controllers/mpesa_callback_controller.ex:131:50: ClinicproWeb.MPesaCallbackController.c2b_confirmation/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 142 │         case Clinicpro.Invoices.get_invoice_by_reference(reference, _clinic_id) do
     │                                                                     ~
     │
     └─ lib/clinicpro_web/controllers/mpesa_callback_controller.ex:142:69: ClinicproWeb.MPesaCallbackController.c2b_confirmation/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 153 │               _clinic_id: _clinic_id,
     │                           ~
     │
     └─ lib/clinicpro_web/controllers/mpesa_callback_controller.ex:153:27: ClinicproWeb.MPesaCallbackController.c2b_confirmation/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 173 │               _clinic_id: _clinic_id,
     │                           ~
     │
     └─ lib/clinicpro_web/controllers/mpesa_callback_controller.ex:173:27: ClinicproWeb.MPesaCallbackController.c2b_confirmation/2

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 189 │               if _appointment do
     │                  ~
     │
     └─ lib/clinicpro_web/controllers/mpesa_callback_controller.ex:189:18: ClinicproWeb.MPesaCallbackController.c2b_confirmation/2

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 190 │                 {:ok, _updated_appointment} = Clinicpro.Appointments.update_appointment(_appointment, %{
     │                                                                                         ~
     │
     └─ lib/clinicpro_web/controllers/mpesa_callback_controller.ex:190:89: ClinicproWeb.MPesaCallbackController.c2b_confirmation/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 13 │     render(conn, :request_otp, changeset: changeset, _clinic_id: _clinic_id)
    │                                                                  ~
    │
    └─ lib/clinicpro_web/controllers/patient_auth_controller.ex:13:66: ClinicproWeb.PatientAuthController.request_otp/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 21 │     patient = find_or_create_patient(patient_params, _clinic_id)
    │                                                      ~
    │
    └─ lib/clinicpro_web/controllers/patient_auth_controller.ex:21:54: ClinicproWeb.PatientAuthController.send_otp/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 23 │     case OTP.send_otp(patient.id, _clinic_id) do
    │                                   ~
    │
    └─ lib/clinicpro_web/controllers/patient_auth_controller.ex:23:35: ClinicproWeb.PatientAuthController.send_otp/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 29 │         |> put_session(:pending_otp_clinic_id, _clinic_id)
    │                                                ~
    │
    └─ lib/clinicpro_web/controllers/patient_auth_controller.ex:29:48: ClinicproWeb.PatientAuthController.send_otp/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 31 │         |> redirect(to: ~p"/patient/verify-otp?_clinic_id=#{_clinic_id}")
    │                                                             ~
    │
    └─ lib/clinicpro_web/controllers/patient_auth_controller.ex:31:61: ClinicproWeb.PatientAuthController.send_otp/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 36 │         |> redirect(to: ~p"/patient/request-otp?_clinic_id=#{_clinic_id}")
    │                                                              ~
    │
    └─ lib/clinicpro_web/controllers/patient_auth_controller.ex:36:62: ClinicproWeb.PatientAuthController.send_otp/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 48 │         |> redirect(to: ~p"/patient/request-otp?_clinic_id=#{_clinic_id}")
    │                                                              ~
    │
    └─ lib/clinicpro_web/controllers/patient_auth_controller.ex:48:62: ClinicproWeb.PatientAuthController.verify_otp_form/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 51 │         render(conn, :verify_otp, _clinic_id: _clinic_id)
    │                                               ~
    │
    └─ lib/clinicpro_web/controllers/patient_auth_controller.ex:51:47: ClinicproWeb.PatientAuthController.verify_otp_form/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 62 │     case OTP.validate_otp(patient_id, _clinic_id, otp) do
    │                                       ~
    │
    └─ lib/clinicpro_web/controllers/patient_auth_controller.ex:62:39: ClinicproWeb.PatientAuthController.verify_otp/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 71 │         |> put_session(:_clinic_id, _clinic_id)
    │                                     ~
    │
    └─ lib/clinicpro_web/controllers/patient_auth_controller.ex:71:37: ClinicproWeb.PatientAuthController.verify_otp/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 78 │         |> redirect(to: ~p"/patient/verify-otp?_clinic_id=#{_clinic_id}")
    │                                                             ~
    │
    └─ lib/clinicpro_web/controllers/patient_auth_controller.ex:78:61: ClinicproWeb.PatientAuthController.verify_otp/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 83 │         |> redirect(to: ~p"/patient/request-otp?_clinic_id=#{_clinic_id}")
    │                                                              ~
    │
    └─ lib/clinicpro_web/controllers/patient_auth_controller.ex:83:62: ClinicproWeb.PatientAuthController.verify_otp/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 103 │         render(conn, :dashboard, patient: patient, _clinic_id: _clinic_id)
     │                                                                ~
     │
     └─ lib/clinicpro_web/controllers/patient_auth_controller.ex:103:64: ClinicproWeb.PatientAuthController.dashboard/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 124 │           Repo.get_by(Patient, phone_number: params["phone_number"], _clinic_id: _clinic_id)
     │                                                                                  ~
     │
     └─ lib/clinicpro_web/controllers/patient_auth_controller.ex:124:82: ClinicproWeb.PatientAuthController.find_or_create_patient/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 127 │           Repo.get_by(Patient, email: params["email"], _clinic_id: _clinic_id)
     │                                                                    ~
     │
     └─ lib/clinicpro_web/controllers/patient_auth_controller.ex:127:68: ClinicproWeb.PatientAuthController.find_or_create_patient/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 137 │       params_with_clinic = Map.put(params, "_clinic_id", _clinic_id)
     │                                                          ~
     │
     └─ lib/clinicpro_web/controllers/patient_auth_controller.ex:137:58: ClinicproWeb.PatientAuthController.find_or_create_patient/2

    warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 43 │           _appointment: _appointment,
    │                         ~
    │
    └─ lib/clinicpro_web/controllers/patient_flow_controller/appointments.ex:43:25: ClinicproWeb.PatientFlowController.Appointments.show/2

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 161 │     Logger.info("Appointment created: #{inspect(_appointment)}")
     │                                                 ~
     │
     └─ lib/clinicpro_web/controllers/patient_flow_controller/appointments.ex:161:49: ClinicproWeb.PatientFlowController.Appointments.confirm_submit/2

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 241 │     {:ok, _appointment}
     │           ~
     │
     └─ lib/clinicpro_web/controllers/patient_flow_controller/appointments.ex:241:11: ClinicproWeb.PatientFlowController.Appointments.get_appointment/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 45 │           _clinic_id: _clinic_id,
    │                       ~
    │
    └─ lib/clinicpro_web/controllers/payment_controller.ex:45:23: ClinicproWeb.PaymentController.initiate_mpesa/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 62 │         case MPesa.initiate_stk_push(_clinic_id, formatted_phone, invoice.amount, 
    │                                      ~
    │
    └─ lib/clinicpro_web/controllers/payment_controller.ex:62:38: ClinicproWeb.PaymentController.initiate_mpesa/2

    warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 70 │               transaction_id: _transaction.id,
    │                               ~
    │
    └─ lib/clinicpro_web/controllers/payment_controller.ex:70:31: ClinicproWeb.PaymentController.initiate_mpesa/2

    warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 71 │               checkout_request_id: _transaction.checkout_request_id
    │                                    ~
    │
    └─ lib/clinicpro_web/controllers/payment_controller.ex:71:36: ClinicproWeb.PaymentController.initiate_mpesa/2

     warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 100 │           status: _transaction.status,
     │                   ~
     │
     └─ lib/clinicpro_web/controllers/payment_controller.ex:100:19: ClinicproWeb.PaymentController.check_status/2

     warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 101 │           result_code: _transaction.result_code,
     │                        ~
     │
     └─ lib/clinicpro_web/controllers/payment_controller.ex:101:24: ClinicproWeb.PaymentController.check_status/2

     warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 102 │           result_desc: _transaction.result_desc
     │                        ~
     │
     └─ lib/clinicpro_web/controllers/payment_controller.ex:102:24: ClinicproWeb.PaymentController.check_status/2

     warning: the underscored variable "_appointment" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 126 │       _appointment -> _appointment.appointment_type || "onsite" # Default to onsite if not specified
     │                       ~
     │
     └─ lib/clinicpro_web/controllers/payment_controller.ex:126:23: ClinicproWeb.PaymentController.get_appointment_type/1

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 12 │     _clinic_id = String.to_integer(_clinic_id)
    │                                    ~
    │
    └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:12:36: ClinicproWeb.PaystackAdminController.index/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 16 │       case Paystack.get_active_config(_clinic_id) do
    │                                       ~
    │
    └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:16:39: ClinicproWeb.PaystackAdminController.index/2

    warning: variable "config" is unused (if the variable is not meant to be used, prefix it with an underscore)
    │
 17 │         {:ok, config} -> true
    │               ~
    │
    └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:17:15: ClinicproWeb.PaystackAdminController.index/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 23 │       case Paystack.get_active_config(_clinic_id) do
    │                                       ~
    │
    └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:23:39: ClinicproWeb.PaystackAdminController.index/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 29 │     subaccounts = Paystack.list_subaccounts(_clinic_id)
    │                                             ~
    │
    └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:29:45: ClinicproWeb.PaystackAdminController.index/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 35 │     transactions = Paystack.list_transactions(_clinic_id)
    │                                               ~
    │
    └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:35:47: ClinicproWeb.PaystackAdminController.index/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 40 │       _clinic_id: _clinic_id,
    │                   ~
    │
    └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:40:19: ClinicproWeb.PaystackAdminController.index/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 53 │     _clinic_id = String.to_integer(_clinic_id)
    │                                    ~
    │
    └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:53:36: ClinicproWeb.PaystackAdminController.list_configs/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 54 │     configs = Paystack.list_configs(_clinic_id)
    │                                     ~
    │
    └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:54:37: ClinicproWeb.PaystackAdminController.list_configs/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 56 │     render(conn, :list_configs, _clinic_id: _clinic_id, configs: configs)
    │                                             ~
    │
    └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:56:45: ClinicproWeb.PaystackAdminController.list_configs/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 60 │     _clinic_id = String.to_integer(_clinic_id)
    │                                    ~
    │
    └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:60:36: ClinicproWeb.PaystackAdminController.new_config/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 61 │     changeset = Paystack.change_config(%Config{_clinic_id: _clinic_id})
    │                                                            ~
    │
    └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:61:60: ClinicproWeb.PaystackAdminController.new_config/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 64 │       _clinic_id: _clinic_id,
    │                   ~
    │
    └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:64:19: ClinicproWeb.PaystackAdminController.new_config/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 67 │       action: Routes.paystack_admin_path(conn, :create_config, _clinic_id)
    │                                                                ~
    │
    └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:67:64: ClinicproWeb.PaystackAdminController.new_config/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 72 │     _clinic_id = String.to_integer(_clinic_id)
    │                                    ~
    │
    └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:72:36: ClinicproWeb.PaystackAdminController.create_config/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 74 │     case Paystack.create_config(config_params, _clinic_id) do
    │                                                ~
    │
    └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:74:48: ClinicproWeb.PaystackAdminController.create_config/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 78 │         |> redirect(to: Routes.paystack_admin_path(conn, :list_configs, _clinic_id))
    │                                                                         ~
    │
    └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:78:73: ClinicproWeb.PaystackAdminController.create_config/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 82 │           _clinic_id: _clinic_id,
    │                       ~
    │
    └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:82:23: ClinicproWeb.PaystackAdminController.create_config/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 85 │           action: Routes.paystack_admin_path(conn, :create_config, _clinic_id)
    │                                                                    ~
    │
    └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:85:68: ClinicproWeb.PaystackAdminController.create_config/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 91 │     _clinic_id = String.to_integer(_clinic_id)
    │                                    ~
    │
    └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:91:36: ClinicproWeb.PaystackAdminController.edit_config/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 93 │     case Paystack.get_config(id, _clinic_id) do
    │                                  ~
    │
    └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:93:34: ClinicproWeb.PaystackAdminController.edit_config/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 98 │           _clinic_id: _clinic_id,
    │                       ~
    │
    └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:98:23: ClinicproWeb.PaystackAdminController.edit_config/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 101 │           action: Routes.paystack_admin_path(conn, :update_config, _clinic_id, config.id)
     │                                                                    ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:101:68: ClinicproWeb.PaystackAdminController.edit_config/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 107 │         |> redirect(to: Routes.paystack_admin_path(conn, :list_configs, _clinic_id))
     │                                                                         ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:107:73: ClinicproWeb.PaystackAdminController.edit_config/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 112 │     _clinic_id = String.to_integer(_clinic_id)
     │                                    ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:112:36: ClinicproWeb.PaystackAdminController.update_config/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 114 │     case Paystack.get_config(id, _clinic_id) do
     │                                  ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:114:34: ClinicproWeb.PaystackAdminController.update_config/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 120 │             |> redirect(to: Routes.paystack_admin_path(conn, :list_configs, _clinic_id))
     │                                                                             ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:120:77: ClinicproWeb.PaystackAdminController.update_config/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 124 │               _clinic_id: _clinic_id,
     │                           ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:124:27: ClinicproWeb.PaystackAdminController.update_config/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 127 │               action: Routes.paystack_admin_path(conn, :update_config, _clinic_id, config.id)
     │                                                                        ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:127:72: ClinicproWeb.PaystackAdminController.update_config/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 134 │         |> redirect(to: Routes.paystack_admin_path(conn, :list_configs, _clinic_id))
     │                                                                         ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:134:73: ClinicproWeb.PaystackAdminController.update_config/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 139 │     _clinic_id = String.to_integer(_clinic_id)
     │                                    ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:139:36: ClinicproWeb.PaystackAdminController.activate_config/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 141 │     case Paystack.activate_config(id, _clinic_id) do
     │                                       ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:141:39: ClinicproWeb.PaystackAdminController.activate_config/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 145 │         |> redirect(to: Routes.paystack_admin_path(conn, :list_configs, _clinic_id))
     │                                                                         ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:145:73: ClinicproWeb.PaystackAdminController.activate_config/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 150 │         |> redirect(to: Routes.paystack_admin_path(conn, :list_configs, _clinic_id))
     │                                                                         ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:150:73: ClinicproWeb.PaystackAdminController.activate_config/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 155 │     _clinic_id = String.to_integer(_clinic_id)
     │                                    ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:155:36: ClinicproWeb.PaystackAdminController.delete_config/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 157 │     case Paystack.get_config(id, _clinic_id) do
     │                                  ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:157:34: ClinicproWeb.PaystackAdminController.delete_config/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 163 │             |> redirect(to: Routes.paystack_admin_path(conn, :list_configs, _clinic_id))
     │                                                                             ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:163:77: ClinicproWeb.PaystackAdminController.delete_config/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 168 │             |> redirect(to: Routes.paystack_admin_path(conn, :list_configs, _clinic_id))
     │                                                                             ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:168:77: ClinicproWeb.PaystackAdminController.delete_config/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 174 │         |> redirect(to: Routes.paystack_admin_path(conn, :list_configs, _clinic_id))
     │                                                                         ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:174:73: ClinicproWeb.PaystackAdminController.delete_config/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 180 │     _clinic_id = String.to_integer(_clinic_id)
     │                                    ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:180:36: ClinicproWeb.PaystackAdminController.list_subaccounts/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 181 │     subaccounts = Paystack.list_subaccounts(_clinic_id)
     │                                             ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:181:45: ClinicproWeb.PaystackAdminController.list_subaccounts/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 185 │       case Paystack.get_active_config(_clinic_id) do
     │                                       ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:185:39: ClinicproWeb.PaystackAdminController.list_subaccounts/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 191 │       _clinic_id: _clinic_id,
     │                   ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:191:19: ClinicproWeb.PaystackAdminController.list_subaccounts/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 198 │     _clinic_id = String.to_integer(_clinic_id)
     │                                    ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:198:36: ClinicproWeb.PaystackAdminController.new_subaccount/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 201 │     case Paystack.get_active_config(_clinic_id) do
     │                                     ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:201:37: ClinicproWeb.PaystackAdminController.new_subaccount/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 203 │         changeset = Paystack.change_subaccount(%Subaccount{_clinic_id: _clinic_id})
     │                                                                        ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:203:72: ClinicproWeb.PaystackAdminController.new_subaccount/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 206 │           _clinic_id: _clinic_id,
     │                       ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:206:23: ClinicproWeb.PaystackAdminController.new_subaccount/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 209 │           action: Routes.paystack_admin_path(conn, :create_subaccount, _clinic_id)
     │                                                                        ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:209:72: ClinicproWeb.PaystackAdminController.new_subaccount/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 218 │         |> redirect(to: Routes.paystack_admin_path(conn, :list_subaccounts, _clinic_id))
     │                                                                             ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:218:77: ClinicproWeb.PaystackAdminController.new_subaccount/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 223 │     _clinic_id = String.to_integer(_clinic_id)
     │                                    ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:223:36: ClinicproWeb.PaystackAdminController.create_subaccount/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 225 │     case Paystack.create_subaccount(subaccount_params, _clinic_id) do
     │                                                        ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:225:56: ClinicproWeb.PaystackAdminController.create_subaccount/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 229 │         |> redirect(to: Routes.paystack_admin_path(conn, :list_subaccounts, _clinic_id))
     │                                                                             ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:229:77: ClinicproWeb.PaystackAdminController.create_subaccount/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 233 │           _clinic_id: _clinic_id,
     │                       ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:233:23: ClinicproWeb.PaystackAdminController.create_subaccount/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 236 │           action: Routes.paystack_admin_path(conn, :create_subaccount, _clinic_id)
     │                                                                        ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:236:72: ClinicproWeb.PaystackAdminController.create_subaccount/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 242 │     _clinic_id = String.to_integer(_clinic_id)
     │                                    ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:242:36: ClinicproWeb.PaystackAdminController.edit_subaccount/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 244 │     case Paystack.get_subaccount(id, _clinic_id) do
     │                                      ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:244:38: ClinicproWeb.PaystackAdminController.edit_subaccount/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 249 │           _clinic_id: _clinic_id,
     │                       ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:249:23: ClinicproWeb.PaystackAdminController.edit_subaccount/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 252 │           action: Routes.paystack_admin_path(conn, :update_subaccount, _clinic_id, subaccount.id)
     │                                                                        ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:252:72: ClinicproWeb.PaystackAdminController.edit_subaccount/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 258 │         |> redirect(to: Routes.paystack_admin_path(conn, :list_subaccounts, _clinic_id))
     │                                                                             ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:258:77: ClinicproWeb.PaystackAdminController.edit_subaccount/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 267 │     _clinic_id = String.to_integer(_clinic_id)
     │                                    ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:267:36: ClinicproWeb.PaystackAdminController.update_subaccount/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 269 │     case Paystack.get_subaccount(id, _clinic_id) do
     │                                      ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:269:38: ClinicproWeb.PaystackAdminController.update_subaccount/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 275 │             |> redirect(to: Routes.paystack_admin_path(conn, :list_subaccounts, _clinic_id))
     │                                                                                 ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:275:81: ClinicproWeb.PaystackAdminController.update_subaccount/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 279 │               _clinic_id: _clinic_id,
     │                           ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:279:27: ClinicproWeb.PaystackAdminController.update_subaccount/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 283 │                 Routes.paystack_admin_path(conn, :update_subaccount, _clinic_id, subaccount.id)
     │                                                                      ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:283:70: ClinicproWeb.PaystackAdminController.update_subaccount/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 290 │         |> redirect(to: Routes.paystack_admin_path(conn, :list_subaccounts, _clinic_id))
     │                                                                             ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:290:77: ClinicproWeb.PaystackAdminController.update_subaccount/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 295 │     _clinic_id = String.to_integer(_clinic_id)
     │                                    ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:295:36: ClinicproWeb.PaystackAdminController.activate_subaccount/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 297 │     case Paystack.activate_subaccount(id, _clinic_id) do
     │                                           ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:297:43: ClinicproWeb.PaystackAdminController.activate_subaccount/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 301 │         |> redirect(to: Routes.paystack_admin_path(conn, :list_subaccounts, _clinic_id))
     │                                                                             ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:301:77: ClinicproWeb.PaystackAdminController.activate_subaccount/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 306 │         |> redirect(to: Routes.paystack_admin_path(conn, :list_subaccounts, _clinic_id))
     │                                                                             ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:306:77: ClinicproWeb.PaystackAdminController.activate_subaccount/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 311 │     _clinic_id = String.to_integer(_clinic_id)
     │                                    ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:311:36: ClinicproWeb.PaystackAdminController.delete_subaccount/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 313 │     case Paystack.get_subaccount(id, _clinic_id) do
     │                                      ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:313:38: ClinicproWeb.PaystackAdminController.delete_subaccount/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 319 │             |> redirect(to: Routes.paystack_admin_path(conn, :list_subaccounts, _clinic_id))
     │                                                                                 ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:319:81: ClinicproWeb.PaystackAdminController.delete_subaccount/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 324 │             |> redirect(to: Routes.paystack_admin_path(conn, :list_subaccounts, _clinic_id))
     │                                                                                 ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:324:81: ClinicproWeb.PaystackAdminController.delete_subaccount/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 330 │         |> redirect(to: Routes.paystack_admin_path(conn, :list_subaccounts, _clinic_id))
     │                                                                             ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:330:77: ClinicproWeb.PaystackAdminController.delete_subaccount/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 336 │     _clinic_id = String.to_integer(_clinic_id)
     │                                    ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:336:36: ClinicproWeb.PaystackAdminController.list_transactions/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 347 │         _clinic_id,
     │         ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:347:9: ClinicproWeb.PaystackAdminController.list_transactions/2

     warning: the underscored variable "_page" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 348 │         _page,
     │         ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:348:9: ClinicproWeb.PaystackAdminController.list_transactions/2

     warning: the underscored variable "_per_page" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 349 │         _per_page,
     │         ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:349:9: ClinicproWeb.PaystackAdminController.list_transactions/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 354 │       _clinic_id: _clinic_id,
     │                   ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:354:19: ClinicproWeb.PaystackAdminController.list_transactions/2

     warning: the underscored variable "_page" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 357 │       _page: _page,
     │              ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:357:14: ClinicproWeb.PaystackAdminController.list_transactions/2

     warning: the underscored variable "_per_page" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 358 │       _per_page: _per_page,
     │                  ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:358:18: ClinicproWeb.PaystackAdminController.list_transactions/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 365 │     _clinic_id = String.to_integer(_clinic_id)
     │                                    ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:365:36: ClinicproWeb.PaystackAdminController.transaction_details/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 367 │     case Paystack.get_transaction_with_events(id, _clinic_id) do
     │                                                   ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:367:51: ClinicproWeb.PaystackAdminController.transaction_details/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 370 │           _clinic_id: _clinic_id,
     │                       ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:370:23: ClinicproWeb.PaystackAdminController.transaction_details/2

     warning: the underscored variable "_transaction" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 371 │           _transaction: _transaction,
     │                         ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:371:25: ClinicproWeb.PaystackAdminController.transaction_details/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 378 │         |> redirect(to: Routes.paystack_admin_path(conn, :list_transactions, _clinic_id))
     │                                                                              ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:378:78: ClinicproWeb.PaystackAdminController.transaction_details/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 383 │     _clinic_id = String.to_integer(_clinic_id)
     │                                    ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:383:36: ClinicproWeb.PaystackAdminController.verify_transaction/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 385 │     case Paystack.verify_transaction(id, _clinic_id) do
     │                                          ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:385:42: ClinicproWeb.PaystackAdminController.verify_transaction/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 389 │         |> redirect(to: Routes.paystack_admin_path(conn, :transaction_details, _clinic_id, id))
     │                                                                                ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:389:80: ClinicproWeb.PaystackAdminController.verify_transaction/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 394 │         |> redirect(to: Routes.paystack_admin_path(conn, :transaction_details, _clinic_id, id))
     │                                                                                ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:394:80: ClinicproWeb.PaystackAdminController.verify_transaction/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 400 │     _clinic_id = String.to_integer(_clinic_id)
     │                                    ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:400:36: ClinicproWeb.PaystackAdminController.test_payment_form/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 403 │     case Paystack.get_active_config(_clinic_id) do
     │                                     ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:403:37: ClinicproWeb.PaystackAdminController.test_payment_form/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 407 │           case Paystack.get_active_subaccount(_clinic_id) do
     │                                               ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:407:47: ClinicproWeb.PaystackAdminController.test_payment_form/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 412 │         changeset = Paystack.change_transaction(%Transaction{_clinic_id: _clinic_id})
     │                                                                          ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:412:74: ClinicproWeb.PaystackAdminController.test_payment_form/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 415 │           _clinic_id: _clinic_id,
     │                       ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:415:23: ClinicproWeb.PaystackAdminController.test_payment_form/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 418 │           action: Routes.paystack_admin_path(conn, :create_test_payment, _clinic_id)
     │                                                                          ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:418:74: ClinicproWeb.PaystackAdminController.test_payment_form/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 424 │         |> redirect(to: Routes.paystack_admin_path(conn, :index, _clinic_id))
     │                                                                  ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:424:66: ClinicproWeb.PaystackAdminController.test_payment_form/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 429 │     _clinic_id = String.to_integer(_clinic_id)
     │                                    ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:429:36: ClinicproWeb.PaystackAdminController.create_test_payment/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 437 │         case Paystack.get_active_subaccount(_clinic_id) do
     │                                             ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:437:45: ClinicproWeb.PaystackAdminController.create_test_payment/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 448 │         "_clinic_id" => _clinic_id,
     │                         ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:448:25: ClinicproWeb.PaystackAdminController.create_test_payment/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 460 │           case Paystack.get_active_subaccount(_clinic_id) do
     │                                               ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:460:47: ClinicproWeb.PaystackAdminController.create_test_payment/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 466 │           Paystack.change_transaction(%Transaction{_clinic_id: _clinic_id})
     │                                                                ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:466:64: ClinicproWeb.PaystackAdminController.create_test_payment/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 470 │           _clinic_id: _clinic_id,
     │                       ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:470:23: ClinicproWeb.PaystackAdminController.create_test_payment/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 473 │           action: Routes.paystack_admin_path(conn, :create_test_payment, _clinic_id)
     │                                                                          ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:473:74: ClinicproWeb.PaystackAdminController.create_test_payment/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 480 │     _clinic_id = String.to_integer(_clinic_id)
     │                                    ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:480:36: ClinicproWeb.PaystackAdminController.webhook_logs/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 496 │     {webhook_logs, total_count} = WebhookLog.list(_clinic_id, filters, _page, _per_page)
     │                                                   ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:496:51: ClinicproWeb.PaystackAdminController.webhook_logs/2

     warning: the underscored variable "_page" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 496 │     {webhook_logs, total_count} = WebhookLog.list(_clinic_id, filters, _page, _per_page)
     │                                                                        ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:496:72: ClinicproWeb.PaystackAdminController.webhook_logs/2

     warning: the underscored variable "_per_page" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 496 │     {webhook_logs, total_count} = WebhookLog.list(_clinic_id, filters, _page, _per_page)
     │                                                                               ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:496:79: ClinicproWeb.PaystackAdminController.webhook_logs/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 499 │     event_types = get_unique_event_types(_clinic_id)
     │                                          ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:499:42: ClinicproWeb.PaystackAdminController.webhook_logs/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 502 │       _clinic_id: _clinic_id,
     │                   ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:502:19: ClinicproWeb.PaystackAdminController.webhook_logs/2

     warning: the underscored variable "_page" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 505 │       _page: _page,
     │              ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:505:14: ClinicproWeb.PaystackAdminController.webhook_logs/2

     warning: the underscored variable "_per_page" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 506 │       _per_page: _per_page,
     │                  ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:506:18: ClinicproWeb.PaystackAdminController.webhook_logs/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 513 │     _clinic_id = String.to_integer(_clinic_id)
     │                                    ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:513:36: ClinicproWeb.PaystackAdminController.webhook_details/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 515 │     case WebhookLog.get_with_transaction(id, _clinic_id) do
     │                                              ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:515:46: ClinicproWeb.PaystackAdminController.webhook_details/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 518 │           _clinic_id: _clinic_id,
     │                       ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:518:23: ClinicproWeb.PaystackAdminController.webhook_details/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 525 │         |> redirect(to: Routes.paystack_admin_path(conn, :webhook_logs, _clinic_id))
     │                                                                         ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:525:73: ClinicproWeb.PaystackAdminController.webhook_details/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 530 │     _clinic_id = String.to_integer(_clinic_id)
     │                                    ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:530:36: ClinicproWeb.PaystackAdminController.retry_webhook/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 532 │     case Callback.retry_webhook(id, _clinic_id) do
     │                                     ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:532:37: ClinicproWeb.PaystackAdminController.retry_webhook/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 536 │         |> redirect(to: Routes.paystack_admin_path(conn, :webhook_details, _clinic_id, id))
     │                                                                            ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:536:76: ClinicproWeb.PaystackAdminController.retry_webhook/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 541 │         |> redirect(to: Routes.paystack_admin_path(conn, :webhook_details, _clinic_id, id))
     │                                                                            ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:541:76: ClinicproWeb.PaystackAdminController.retry_webhook/2

     warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 558 │             where: w._clinic_id == ^_clinic_id,
     │                                     ~
     │
     └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:558:37: ClinicproWeb.PaystackAdminController.get_unique_event_types/1

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 20 │          {:ok, _result} <- Paystack.process_webhook(payload, _clinic_id, conn.assigns[:request_signature]) do
    │                                                              ~
    │
    └─ lib/clinicpro_web/controllers/paystack_webhook_controller.ex:20:62: ClinicproWeb.PaystackWebhookController.handle/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 23 │       Logger.info("Paystack webhook processed successfully for _clinic_id: #{_clinic_id}")
    │                                                                              ~
    │
    └─ lib/clinicpro_web/controllers/paystack_webhook_controller.ex:23:78: ClinicproWeb.PaystackWebhookController.handle/2

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 64 │   defp extract_clinic_id(%{"data" => %{"metadata" => %{"_clinic_id" => _clinic_id}}}) when is_integer(_clinic_id), do: _clinic_id
    │                                                                                                       ~
    │
    └─ lib/clinicpro_web/controllers/paystack_webhook_controller.ex:64:103: ClinicproWeb.PaystackWebhookController.extract_clinic_id/1

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 64 │   defp extract_clinic_id(%{"data" => %{"metadata" => %{"_clinic_id" => _clinic_id}}}) when is_integer(_clinic_id), do: _clinic_id
    │                                                                                                                        ~
    │
    └─ lib/clinicpro_web/controllers/paystack_webhook_controller.ex:64:120: ClinicproWeb.PaystackWebhookController.extract_clinic_id/1

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 65 │   defp extract_clinic_id(%{"data" => %{"metadata" => %{"_clinic_id" => _clinic_id}}}) when is_binary(_clinic_id) do
    │                                                                                                      ~
    │
    └─ lib/clinicpro_web/controllers/paystack_webhook_controller.ex:65:102: ClinicproWeb.PaystackWebhookController.extract_clinic_id/1

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 66 │     case Integer.parse(_clinic_id) do
    │                        ~
    │
    └─ lib/clinicpro_web/controllers/paystack_webhook_controller.ex:66:24: ClinicproWeb.PaystackWebhookController.extract_clinic_id/1

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 75 │       {:ok, _clinic_id} -> _clinic_id
    │                            ~
    │
    └─ lib/clinicpro_web/controllers/paystack_webhook_controller.ex:75:28: ClinicproWeb.PaystackWebhookController.extract_clinic_id/1

     warning: the underscored variable "_page" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 101 │     _page = String.to_integer(_page)
     │                               ~
     │
     └─ lib/clinicpro_web/controllers/search_controller.ex:101:31: ClinicproWeb.SearchController.results/2

     warning: the underscored variable "_page" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 104 │     search_results = perform_search(query, filters, _page)
     │                                                     ~
     │
     └─ lib/clinicpro_web/controllers/search_controller.ex:104:53: ClinicproWeb.SearchController.results/2

     warning: the underscored variable "_page" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 114 │       _page: _page,
     │              ~
     │
     └─ lib/clinicpro_web/controllers/search_controller.ex:114:14: ClinicproWeb.SearchController.results/2

     warning: the underscored variable "_page" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 170 │       Enum.map(((_page - 1) * 10 + 1)..(_page * 10), fn i ->
     │                  ~
     │
     └─ lib/clinicpro_web/controllers/search_controller.ex:170:18: ClinicproWeb.SearchController.perform_search/3

     warning: the underscored variable "_page" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
     │
 170 │       Enum.map(((_page - 1) * 10 + 1)..(_page * 10), fn i ->
     │                                         ~
     │
     └─ lib/clinicpro_web/controllers/search_controller.ex:170:41: ClinicproWeb.SearchController.perform_search/3

    warning: unused alias Invoices
    │
  7 │   alias Clinicpro.Invoices
    │   ~
    │
    └─ lib/clinicpro_web/controllers/invoice_controller.ex:7:3

    warning: unused alias MPesa
    │
  5 │   alias Clinicpro.MPesa
    │   ~
    │
    └─ lib/clinicpro_web/controllers/invoice_controller.ex:5:3

    warning: unused alias WorkflowValidator
    │
  3 │   alias ClinicproWeb.Plugs.WorkflowValidator
    │   ~
    │
    └─ lib/clinicpro_web/controllers/patient_flow_controller/medical_records.ex:3:3

    warning: unused alias Callback
    │
  5 │   alias Clinicpro.Paystack.Callback
    │   ~
    │
    └─ lib/clinicpro_web/controllers/paystack_webhook_controller.ex:5:3

    warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 10 │   def init(_opts), do: _opts
    │                        ~
    │
    └─ lib/clinicpro_web/plugs/ensure_patient_auth.ex:10:24: ClinicproWeb.Plugs.EnsurePatientAuth.init/1

    warning: the underscored variable "_clinic_id" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 19 │       |> assign(:current_clinic_id, _clinic_id)
    │                                     ~
    │
    └─ lib/clinicpro_web/plugs/ensure_patient_auth.ex:19:37: ClinicproWeb.Plugs.EnsurePatientAuth.call/2

    warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 12 │       workflow: _opts[:workflow],
    │                 ~
    │
    └─ lib/clinicpro_web/plugs/workflow_validator.ex:12:17: ClinicproWeb.Plugs.WorkflowValidator.init/1

    warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 13 │       required_step: _opts[:required_step],
    │                      ~
    │
    └─ lib/clinicpro_web/plugs/workflow_validator.ex:13:22: ClinicproWeb.Plugs.WorkflowValidator.init/1

    warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 14 │       redirect_to: _opts[:redirect_to] || "/"
    │                    ~
    │
    └─ lib/clinicpro_web/plugs/workflow_validator.ex:14:20: ClinicproWeb.Plugs.WorkflowValidator.init/1

    warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 20 │     workflow_state = get_session(conn, :workflow_state) || init_workflow_state(_opts[:workflow])
    │                                                                                ~
    │
    └─ lib/clinicpro_web/plugs/workflow_validator.ex:20:80: ClinicproWeb.Plugs.WorkflowValidator.call/2

    warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 29 │     if _opts[:required_step] && workflow_state.current_step != _opts[:required_step] do
    │        ~
    │
    └─ lib/clinicpro_web/plugs/workflow_validator.ex:29:8: ClinicproWeb.Plugs.WorkflowValidator.call/2

    warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 29 │     if _opts[:required_step] && workflow_state.current_step != _opts[:required_step] do
    │                                                                ~
    │
    └─ lib/clinicpro_web/plugs/workflow_validator.ex:29:64: ClinicproWeb.Plugs.WorkflowValidator.call/2

    warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 32 │       |> redirect(to: _opts[:redirect_to])
    │                       ~
    │
    └─ lib/clinicpro_web/plugs/workflow_validator.ex:32:23: ClinicproWeb.Plugs.WorkflowValidator.call/2

    warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 45 │     if count = _opts[:count] do
    │                ~
    │
    └─ lib/clinicpro_web/views/error_helpers.ex:45:16: ClinicproWeb.ErrorHelpers.translate_error/1

    warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 48 │       Gettext.dgettext(ClinicproWeb.Gettext, "errors", msg, _opts)
    │                                                             ~
    │
    └─ lib/clinicpro_web/views/error_helpers.ex:48:61: ClinicproWeb.ErrorHelpers.translate_error/1

    warning: the underscored variable "_opts" is used after being set. A leading underscore indicates that the value of the variable should be ignored. If this is intended please rename the variable to remove the underscore
    │
 46 │       Gettext.dngettext(ClinicproWeb.Gettext, "errors", msg, msg, count, _opts)
    │                                                                          ~
    │
    └─ lib/clinicpro_web/views/error_helpers.ex:46:74: ClinicproWeb.ErrorHelpers.translate_error/1

    warning: unused alias PaystackAdminHTML
    │
  8 │   alias ClinicproWeb.PaystackAdminHTML
    │   ~
    │
    └─ lib/clinicpro_web/controllers/paystack_admin_controller.ex:8:3

    error: undefined function input_name/2 (expected ClinicproWeb.ErrorHelpers to define such a function or for it to be imported, but none are available)
    │
 19 │         phx_feedback_for: input_name(form, field)
    │                           ^^^^^^^^^^
    │
    └─ lib/clinicpro_web/views/error_helpers.ex:19:27: ClinicproWeb.ErrorHelpers.error_tag/2


== Compilation error in file lib/clinicpro_web/views/error_helpers.ex ==
** (CompileError) lib/clinicpro_web/views/error_helpers.ex: cannot compile module ClinicproWeb.ErrorHelpers (errors have been logged)

